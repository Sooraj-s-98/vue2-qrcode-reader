import{d as qa,h as Ja,j as Za,a8 as Xa,o as Qa,b as Ka,I as ei}from"./framework.9fcc70a7.js";const fo=qa({__name:"DemoWrapper",props:{component:Object},setup(i){const c=i,o=Ja();return Za(()=>{c.component&&(o.value=Xa(c.component))}),(h,m)=>(Qa(),Ka(ei(o.value)))}});var Pa=(i,c,o)=>{if(!c.has(i))throw TypeError("Cannot "+o)},pa=(i,c,o)=>(Pa(i,c,"read from private field"),o?o.call(i):c.get(i)),ti=(i,c,o)=>{if(c.has(i))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(i):c.set(i,o)},ri=(i,c,o,h)=>(Pa(i,c,"write to private field"),h?h.call(i,o):c.set(i,o),o);const va=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function ni(i){if(Ta(i))return{width:i.naturalWidth,height:i.naturalHeight};if(Sa(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(Aa(i))return{width:i.videoWidth,height:i.videoHeight};if(Oa(i))return{width:i.width,height:i.height};if(Ma(i))return{width:i.displayWidth,height:i.displayHeight};if(Ea(i))return{width:i.width,height:i.height};if(Da(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Ta(i){try{return i instanceof HTMLImageElement}catch{return!1}}function Sa(i){try{return i instanceof SVGImageElement}catch{return!1}}function Aa(i){try{return i instanceof HTMLVideoElement}catch{return!1}}function Ea(i){try{return i instanceof HTMLCanvasElement}catch{return!1}}function Oa(i){try{return i instanceof ImageBitmap}catch{return!1}}function Da(i){try{return i instanceof OffscreenCanvas}catch{return!1}}function Ma(i){try{return i instanceof VideoFrame}catch{return!1}}function Ra(i){try{return i instanceof Blob}catch{return!1}}function ai(i){try{return i instanceof ImageData}catch{return!1}}function ii(i,c){try{const o=new OffscreenCanvas(i,c);if(o.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return o;throw void 0}catch{const o=document.createElement("canvas");return o.width=i,o.height=c,o}}async function xa(i){if(Ta(i)&&!await ci(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Sa(i)&&!await li(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Ma(i)&&fi(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Aa(i)&&(i.readyState===0||i.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Oa(i)&&hi(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:c,height:o}=ni(i);if(c===0||o===0)return null;const h=ii(c,o).getContext("2d");h.drawImage(i,0,0);try{return h.getImageData(0,0,c,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function oi(i){let c;try{if(createImageBitmap)c=await createImageBitmap(i);else if(Image){c=new Image;let o="";try{o=URL.createObjectURL(i),c.src=o,await c.decode()}finally{URL.revokeObjectURL(o)}}else return i}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await xa(c)}function si(i){const{width:c,height:o}=i;if(c===0||o===0)return null;const h=i.getContext("2d");try{return h.getImageData(0,0,c,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ui(i){if(Ra(i))return await oi(i);if(ai(i)){if(di(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return Ea(i)||Da(i)?si(i):await xa(i)}async function ci(i){try{return await i.decode(),!0}catch{return!1}}async function li(i){var c;try{return await((c=i.decode)==null?void 0:c.call(i)),!0}catch{return!1}}function fi(i){return i.format===null}function di(i){return i.data.buffer.byteLength===0}function hi(i){return i.width===0&&i.height===0}function ma(i,c){return i instanceof DOMException?new DOMException(`${c}: ${i.message}`,i.name):i instanceof Error?new i.constructor(`${c}: ${i.message}`):new Error(`${c}: ${i}`)}const ya=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"];function pi(i){return i.join("|")}function vi(i){const c=ga(i);let o=0,h=ya.length-1;for(;o<=h;){const m=Math.floor((o+h)/2),$=ya[m],C=ga($);if(C===c)return $;C<c?o=m+1:h=m-1}return"None"}function ga(i){return i.toLowerCase().replace(/_-\[\]/g,"")}function mi(i,c){return i.Binarizer[c]}function yi(i,c){return i.CharacterSet[c]}const gi=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function wi(i){return gi[i.value]}function $i(i,c){return i.EanAddOnSymbol[c]}function bi(i,c){return i.TextMode[c]}const Nt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Fa(i,c){return{...c,formats:pi(c.formats),binarizer:mi(i,c.binarizer),eanAddOnSymbol:$i(i,c.eanAddOnSymbol),textMode:bi(i,c.textMode),characterSet:yi(i,c.characterSet)}}function ka(i){return{...i,format:vi(i.format),eccLevel:i.eccLevel,contentType:wi(i.contentType)}}const Ci={locateFile:(i,c)=>{const o=i.match(/_(.+?)\.wasm$/);return o?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.0.0-rc.3/dist/${o[1]}/${i}`:c+i}};let wa=new WeakMap;function fa(i,c){var o;const h=wa.get(i);if(h!=null&&h.modulePromise&&(c===void 0||Object.is(c,h.moduleOverrides)))return h.modulePromise;const m=(o=c??(h==null?void 0:h.moduleOverrides))!=null?o:Ci,$=i({...m});return wa.set(i,{moduleOverrides:m,modulePromise:$}),$}async function _i(i,c,o=Nt){const h={...Nt,...o},m=await fa(i),{size:$}=c,C=new Uint8Array(await c.arrayBuffer()),T=m._malloc($);m.HEAPU8.set(C,T);const A=m.readBarcodesFromImage(T,$,Fa(m,h));m._free(T);const w=[];for(let E=0;E<A.size();++E)w.push(ka(A.get(E)));return w}async function Pi(i,c,o=Nt){const h={...Nt,...o},m=await fa(i),{data:$,width:C,height:T,data:{byteLength:A}}=c,w=m._malloc(A);m.HEAPU8.set($,w);const E=m.readBarcodesFromPixmap(w,C,T,Fa(m,h));m._free(w);const D=[];for(let S=0;S<E.size();++S)D.push(ka(E.get(S)));return D}var da=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(c={}){var o=c,h,m;o.ready=new Promise((n,e)=>{h=n,m=e});var $=Object.assign({},o),C="./this.program",T=typeof window=="object",A=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var w="";function E(n){return o.locateFile?o.locateFile(n,w):w+n}var D;(T||A)&&(A?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),i&&(w=i),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",A&&(D=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),o.print||console.log.bind(console);var S=o.printErr||console.error.bind(console);Object.assign(o,$),$=null,o.arguments&&o.arguments,o.thisProgram&&(C=o.thisProgram),o.quit&&o.quit;var G;o.wasmBinary&&(G=o.wasmBinary),typeof WebAssembly!="object"&&ve("no native wasm support detected");var N,Z=!1;function ee(n,e){n||ve(e)}var B,z,ue,he,Y,R,at,it;function ot(){var n=N.buffer;o.HEAP8=B=new Int8Array(n),o.HEAP16=ue=new Int16Array(n),o.HEAPU8=z=new Uint8Array(n),o.HEAPU16=he=new Uint16Array(n),o.HEAP32=Y=new Int32Array(n),o.HEAPU32=R=new Uint32Array(n),o.HEAPF32=at=new Float32Array(n),o.HEAPF64=it=new Float64Array(n)}var st=[],ut=[],ct=[];function Zt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Kt(o.preRun.shift());We(st)}function Xt(){We(ut)}function Qt(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)tr(o.postRun.shift());We(ct)}function Kt(n){st.unshift(n)}function er(n){ut.unshift(n)}function tr(n){ct.unshift(n)}var ae=0,pe=null;function rr(n){ae++,o.monitorRunDependencies&&o.monitorRunDependencies(ae)}function nr(n){if(ae--,o.monitorRunDependencies&&o.monitorRunDependencies(ae),ae==0&&pe){var e=pe;pe=null,e()}}function ve(n){o.onAbort&&o.onAbort(n),n="Aborted("+n+")",S(n),Z=!0,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw m(e),e}var ar="data:application/octet-stream;base64,",lt=n=>n.startsWith(ar),ce;ce="zxing_reader.wasm",lt(ce)||(ce=E(ce));function ft(n){if(n==ce&&G)return new Uint8Array(G);if(D)return D(n);throw"both async and sync fetching of the wasm failed"}function ir(n){return!G&&(T||A)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(()=>ft(n)):Promise.resolve().then(()=>ft(n))}function dt(n,e,t){return ir(n).then(r=>WebAssembly.instantiate(r,e)).then(r=>r).then(t,r=>{S(`failed to asynchronously prepare wasm: ${r}`),ve(r)})}function or(n,e,t,r){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!lt(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(a=>{var s=WebAssembly.instantiateStreaming(a,t);return s.then(r,function(u){return S(`wasm streaming compile failed: ${u}`),S("falling back to ArrayBuffer instantiation"),dt(e,t,r)})}):dt(e,t,r)}function sr(){var n={a:Vn};function e(r,a){return F=r.exports,N=F.fa,ot(),Pt=F.ja,er(F.ga),nr(),F}rr();function t(r){e(r.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(n,e)}catch(r){S(`Module.instantiateWasm callback failed with error: ${r}`),m(r)}return or(G,ce,n,t).catch(m),{}}var We=n=>{for(;n.length>0;)n.shift()(o)};o.noExitRuntime;var _e=[],Pe=0,ur=n=>{var e=new Ie(n);return e.get_caught()||(e.set_caught(!0),Pe--),e.set_rethrown(!1),_e.push(e),Lt(e.excPtr),e.get_exception_ptr()},te=0,cr=()=>{x(0,0);var n=_e.pop();Ut(n.excPtr),te=0};function Ie(n){this.excPtr=n,this.ptr=n-24,this.set_type=function(e){R[this.ptr+4>>2]=e},this.get_type=function(){return R[this.ptr+4>>2]},this.set_destructor=function(e){R[this.ptr+8>>2]=e},this.get_destructor=function(){return R[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,B[this.ptr+12>>0]=e},this.get_caught=function(){return B[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,B[this.ptr+13>>0]=e},this.get_rethrown=function(){return B[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){R[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return R[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=Vt(this.get_type());if(e)return R[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var lr=n=>{throw te||(te=n),te},Ue=n=>{var e=te;if(!e)return be(0),0;var t=new Ie(e);t.set_adjusted_ptr(e);var r=t.get_type();if(!r)return be(0),e;for(var a in n){var s=n[a];if(s===0||s===r)break;var u=t.ptr+16;if(Ht(s,r,u))return be(s),e}return be(r),e},fr=()=>Ue([]),dr=n=>Ue([n]),hr=(n,e)=>Ue([n,e]),pr=()=>{var n=_e.pop();n||ve("no exception to throw");var e=n.excPtr;throw n.get_rethrown()||(_e.push(n),n.set_rethrown(!0),n.set_caught(!1),Pe++),te=e,te},vr=(n,e,t)=>{var r=new Ie(n);throw r.init(e,t),te=n,Pe++,te},mr=()=>Pe,Te={},ht=n=>{for(;n.length;){var e=n.pop(),t=n.pop();t(e)}};function Le(n){return this.fromWireType(Y[n>>2])}var le={},ie={},Se={},pt,Ae=n=>{throw new pt(n)},oe=(n,e,t)=>{n.forEach(function(l){Se[l]=e});function r(l){var f=t(l);f.length!==n.length&&Ae("Mismatched type converter count");for(var d=0;d<n.length;++d)Q(n[d],f[d])}var a=new Array(e.length),s=[],u=0;e.forEach((l,f)=>{ie.hasOwnProperty(l)?a[f]=ie[l]:(s.push(l),le.hasOwnProperty(l)||(le[l]=[]),le[l].push(()=>{a[f]=ie[l],++u,u===s.length&&r(a)}))}),s.length===0&&r(a)},yr=n=>{var e=Te[n];delete Te[n];var t=e.rawConstructor,r=e.rawDestructor,a=e.fields,s=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));oe([n],s,u=>{var l={};return a.forEach((f,d)=>{var v=f.fieldName,g=u[d],b=f.getter,P=f.getterContext,M=u[d+a.length],I=f.setter,U=f.setterContext;l[v]={read:L=>g.fromWireType(b(P,L)),write:(L,y)=>{var p=[];I(U,L,M.toWireType(p,y)),ht(p)}}}),[{name:e.name,fromWireType:f=>{var d={};for(var v in l)d[v]=l[v].read(f);return r(f),d},toWireType:(f,d)=>{for(var v in l)if(!(v in d))throw new TypeError(`Missing field: "${v}"`);var g=t();for(v in l)l[v].write(g,d[v]);return f!==null&&f.push(r,g),g},argPackAdvance:K,readValueFromPointer:Le,destructorFunction:r}]})},gr=(n,e,t,r,a)=>{},wr=()=>{for(var n=new Array(256),e=0;e<256;++e)n[e]=String.fromCharCode(e);vt=n},vt,V=n=>{for(var e="",t=n;z[t];)e+=vt[z[t++]];return e},fe,O=n=>{throw new fe(n)};function $r(n,e,t={}){var r=e.name;if(n||O(`type "${r}" must have a positive integer typeid pointer`),ie.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;O(`Cannot register type '${r}' twice`)}if(ie[n]=e,delete Se[n],le.hasOwnProperty(n)){var a=le[n];delete le[n],a.forEach(s=>s())}}function Q(n,e,t={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return $r(n,e,t)}var K=8,br=(n,e,t,r)=>{e=V(e),Q(n,{name:e,fromWireType:function(a){return!!a},toWireType:function(a,s){return s?t:r},argPackAdvance:K,readValueFromPointer:function(a){return this.fromWireType(z[a])},destructorFunction:null})},Cr=n=>({count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}),He=n=>{function e(t){return t.$$.ptrType.registeredClass.name}O(e(n)+" instance already deleted")},Ve=!1,mt=n=>{},_r=n=>{n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)},yt=n=>{n.count.value-=1;var e=n.count.value===0;e&&_r(n)},gt=(n,e,t)=>{if(e===t)return n;if(t.baseClass===void 0)return null;var r=gt(n,e,t.baseClass);return r===null?null:t.downcast(r)},wt={},Pr=()=>Object.keys(ge).length,Tr=()=>{var n=[];for(var e in ge)ge.hasOwnProperty(e)&&n.push(ge[e]);return n},me=[],Be=()=>{for(;me.length;){var n=me.pop();n.$$.deleteScheduled=!1,n.delete()}},ye,Sr=n=>{ye=n,me.length&&ye&&ye(Be)},Ar=()=>{o.getInheritedInstanceCount=Pr,o.getLiveInheritedInstances=Tr,o.flushPendingDeletes=Be,o.setDelayFunction=Sr},ge={},Er=(n,e)=>{for(e===void 0&&O("ptr should not be undefined");n.baseClass;)e=n.upcast(e),n=n.baseClass;return e},Or=(n,e)=>(e=Er(n,e),ge[e]),Ee=(n,e)=>{(!e.ptrType||!e.ptr)&&Ae("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,r=!!e.smartPtr;return t!==r&&Ae("Both smartPtrType and smartPtr must be specified"),e.count={value:1},we(Object.create(n,{$$:{value:e}}))};function Dr(n){var e=this.getPointee(n);if(!e)return this.destructor(n),null;var t=Or(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=n,t.clone();var r=t.clone();return this.destructor(n),r}function a(){return this.isSmartPointer?Ee(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:n}):Ee(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var s=this.registeredClass.getActualType(e),u=wt[s];if(!u)return a.call(this);var l;this.isConst?l=u.constPointerType:l=u.pointerType;var f=gt(e,this.registeredClass,l.registeredClass);return f===null?a.call(this):this.isSmartPointer?Ee(l.registeredClass.instancePrototype,{ptrType:l,ptr:f,smartPtrType:this,smartPtr:n}):Ee(l.registeredClass.instancePrototype,{ptrType:l,ptr:f})}var we=n=>typeof FinalizationRegistry>"u"?(we=e=>e,n):(Ve=new FinalizationRegistry(e=>{yt(e.$$)}),we=e=>{var t=e.$$,r=!!t.smartPtr;if(r){var a={$$:t};Ve.register(e,a,e)}return e},mt=e=>Ve.unregister(e),we(n)),Mr=()=>{Object.assign(Oe.prototype,{isAliasOf(n){if(!(this instanceof Oe)||!(n instanceof Oe))return!1;var e=this.$$.ptrType.registeredClass,t=this.$$.ptr;n.$$=n.$$;for(var r=n.$$.ptrType.registeredClass,a=n.$$.ptr;e.baseClass;)t=e.upcast(t),e=e.baseClass;for(;r.baseClass;)a=r.upcast(a),r=r.baseClass;return e===r&&t===a},clone(){if(this.$$.ptr||He(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=we(Object.create(Object.getPrototypeOf(this),{$$:{value:Cr(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),mt(this),yt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),me.push(this),me.length===1&&ye&&ye(Be),this.$$.deleteScheduled=!0,this}})};function Oe(){}var Rr=48,xr=57,$t=n=>{if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var e=n.charCodeAt(0);return e>=Rr&&e<=xr?`_${n}`:n};function ze(n,e){return n=$t(n),{[n]:function(){return e.apply(this,arguments)}}[n]}var bt=(n,e,t)=>{if(n[e].overloadTable===void 0){var r=n[e];n[e]=function(){return n[e].overloadTable.hasOwnProperty(arguments.length)||O(`Function '${t}' called with an invalid number of arguments (${arguments.length}) - expects one of (${n[e].overloadTable})!`),n[e].overloadTable[arguments.length].apply(this,arguments)},n[e].overloadTable=[],n[e].overloadTable[r.argCount]=r}},Ye=(n,e,t)=>{o.hasOwnProperty(n)?((t===void 0||o[n].overloadTable!==void 0&&o[n].overloadTable[t]!==void 0)&&O(`Cannot register public name '${n}' twice`),bt(o,n,n),o.hasOwnProperty(t)&&O(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[n].overloadTable[t]=e):(o[n]=e,t!==void 0&&(o[n].numArguments=t))};function Fr(n,e,t,r,a,s,u,l){this.name=n,this.constructor=e,this.instancePrototype=t,this.rawDestructor=r,this.baseClass=a,this.getActualType=s,this.upcast=u,this.downcast=l,this.pureVirtualFunctions=[]}var Ge=(n,e,t)=>{for(;e!==t;)e.upcast||O(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),n=e.upcast(n),e=e.baseClass;return n};function kr(n,e){if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;e.$$||O(`Cannot pass "${Ze(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,r=Ge(e.$$.ptr,t,this.registeredClass);return r}function jr(n,e){var t;if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),n!==null&&n.push(this.rawDestructor,t),t):0;e.$$||O(`Cannot pass "${Ze(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&O(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;if(t=Ge(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&O("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:O(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var a=e.clone();t=this.rawShare(t,ne.toHandle(()=>a.delete())),n!==null&&n.push(this.rawDestructor,t)}break;default:O("Unsupporting sharing policy")}return t}function Wr(n,e){if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;e.$$||O(`Cannot pass "${Ze(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&O(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,r=Ge(e.$$.ptr,t,this.registeredClass);return r}function Ct(n){return this.fromWireType(R[n>>2])}var Ir=()=>{Object.assign(De.prototype,{getPointee(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n},destructor(n){this.rawDestructor&&this.rawDestructor(n)},argPackAdvance:K,readValueFromPointer:Ct,deleteObject(n){n!==null&&n.delete()},fromWireType:Dr})};function De(n,e,t,r,a,s,u,l,f,d,v){this.name=n,this.registeredClass=e,this.isReference=t,this.isConst=r,this.isSmartPointer=a,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=l,this.rawConstructor=f,this.rawShare=d,this.rawDestructor=v,!a&&e.baseClass===void 0?r?(this.toWireType=kr,this.destructorFunction=null):(this.toWireType=Wr,this.destructorFunction=null):this.toWireType=jr}var _t=(n,e,t)=>{o.hasOwnProperty(n)||Ae("Replacing nonexistant public symbol"),o[n].overloadTable!==void 0&&t!==void 0?o[n].overloadTable[t]=e:(o[n]=e,o[n].argCount=t)},Ur=(n,e,t)=>{var r=o["dynCall_"+n];return t&&t.length?r.apply(null,[e].concat(t)):r.call(null,e)},Me=[],Pt,k=n=>{var e=Me[n];return e||(n>=Me.length&&(Me.length=n+1),Me[n]=e=Pt.get(n)),e},Lr=(n,e,t)=>{if(n.includes("j"))return Ur(n,e,t);var r=k(e).apply(null,t);return r},Hr=(n,e)=>{var t=[];return function(){return t.length=0,Object.assign(t,arguments),Lr(n,e,t)}},X=(n,e)=>{n=V(n);function t(){return n.includes("j")?Hr(n,e):k(e)}var r=t();return typeof r!="function"&&O(`unknown function pointer with signature ${n}: ${e}`),r},Vr=(n,e)=>{var t=ze(e,function(r){this.name=e,this.message=r;var a=new Error(r).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Tt,St=n=>{var e=It(n),t=V(e);return re(e),t},Re=(n,e)=>{var t=[],r={};function a(s){if(!r[s]&&!ie[s]){if(Se[s]){Se[s].forEach(a);return}t.push(s),r[s]=!0}}throw e.forEach(a),new Tt(`${n}: `+t.map(St).join([", "]))},Br=(n,e,t,r,a,s,u,l,f,d,v,g,b)=>{v=V(v),s=X(a,s),l&&(l=X(u,l)),d&&(d=X(f,d)),b=X(g,b);var P=$t(v);Ye(P,function(){Re(`Cannot construct ${v} due to unbound types`,[r])}),oe([n,e,t],r?[r]:[],function(M){M=M[0];var I,U;r?(I=M.registeredClass,U=I.instancePrototype):U=Oe.prototype;var L=ze(P,function(){if(Object.getPrototypeOf(this)!==y)throw new fe("Use 'new' to construct "+v);if(p.constructor_body===void 0)throw new fe(v+" has no accessible constructor");var de=p.constructor_body[arguments.length];if(de===void 0)throw new fe(`Tried to invoke ctor of ${v} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(p.constructor_body).toString()}) parameters instead!`);return de.apply(this,arguments)}),y=Object.create(U,{constructor:{value:L}});L.prototype=y;var p=new Fr(v,L,y,b,I,s,l,d);p.baseClass&&(p.baseClass.__derivedClasses===void 0&&(p.baseClass.__derivedClasses=[]),p.baseClass.__derivedClasses.push(p));var _=new De(v,p,!0,!1,!1),H=new De(v+"*",p,!1,!1,!1),q=new De(v+" const*",p,!1,!0,!1);return wt[n]={pointerType:H,constPointerType:q},_t(P,L),[_,H,q]})},Ne=(n,e)=>{for(var t=[],r=0;r<n;r++)t.push(R[e+r*4>>2]);return t};function qe(n,e,t,r,a,s){var u=e.length;u<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var l=e[1]!==null&&t!==null,f=!1,d=1;d<e.length;++d)if(e[d]!==null&&e[d].destructorFunction===void 0){f=!0;break}var v=e[0].name!=="void",g=u-2,b=new Array(g),P=[],M=[];return function(){arguments.length!==g&&O(`function ${n} called with ${arguments.length} arguments, expected ${g}`),M.length=0;var I;P.length=l?2:1,P[0]=a,l&&(I=e[1].toWireType(M,this),P[1]=I);for(var U=0;U<g;++U)b[U]=e[U+2].toWireType(M,arguments[U]),P.push(b[U]);var L=r.apply(null,P);function y(p){if(f)ht(M);else for(var _=l?1:2;_<e.length;_++){var H=_===1?I:b[_-2];e[_].destructorFunction!==null&&e[_].destructorFunction(H)}if(v)return e[0].fromWireType(p)}return y(L)}}var zr=(n,e,t,r,a,s)=>{var u=Ne(e,t);a=X(r,a),oe([],[n],function(l){l=l[0];var f=`constructor ${l.name}`;if(l.registeredClass.constructor_body===void 0&&(l.registeredClass.constructor_body=[]),l.registeredClass.constructor_body[e-1]!==void 0)throw new fe(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.registeredClass.constructor_body[e-1]=()=>{Re(`Cannot construct ${l.name} due to unbound types`,u)},oe([],u,d=>(d.splice(1,0,null),l.registeredClass.constructor_body[e-1]=qe(f,d,null,a,s),[])),[]})},At=n=>{n=n.trim();const e=n.indexOf("(");return e!==-1?(ee(n[n.length-1]==")","Parentheses for argument names should match."),n.substr(0,e)):n},Yr=(n,e,t,r,a,s,u,l,f)=>{var d=Ne(t,r);e=V(e),e=At(e),s=X(a,s),oe([],[n],function(v){v=v[0];var g=`${v.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),l&&v.registeredClass.pureVirtualFunctions.push(e);function b(){Re(`Cannot call ${g} due to unbound types`,d)}var P=v.registeredClass.instancePrototype,M=P[e];return M===void 0||M.overloadTable===void 0&&M.className!==v.name&&M.argCount===t-2?(b.argCount=t-2,b.className=v.name,P[e]=b):(bt(P,e,g),P[e].overloadTable[t-2]=b),oe([],d,function(I){var U=qe(g,I,v,s,u);return P[e].overloadTable===void 0?(U.argCount=t-2,P[e]=U):P[e].overloadTable[t-2]=U,[]}),[]})};function Gr(){Object.assign(Et.prototype,{get(n){return this.allocated[n]},has(n){return this.allocated[n]!==void 0},allocate(n){var e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=n,e},free(n){this.allocated[n]=void 0,this.freelist.push(n)}})}function Et(){this.allocated=[void 0],this.freelist=[]}var J=new Et,Ot=n=>{n>=J.reserved&&--J.get(n).refcount===0&&J.free(n)},Nr=()=>{for(var n=0,e=J.reserved;e<J.allocated.length;++e)J.allocated[e]!==void 0&&++n;return n},qr=()=>{J.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),J.reserved=J.allocated.length,o.count_emval_handles=Nr},ne={toValue:n=>(n||O("Cannot use deleted val. handle = "+n),J.get(n).value),toHandle:n=>{switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return J.allocate({refcount:1,value:n})}}},Jr=(n,e)=>{e=V(e),Q(n,{name:e,fromWireType:t=>{var r=ne.toValue(t);return Ot(t),r},toWireType:(t,r)=>ne.toHandle(r),argPackAdvance:K,readValueFromPointer:Le,destructorFunction:null})},Zr=(n,e,t)=>{switch(e){case 1:return t?function(r){return this.fromWireType(B[r>>0])}:function(r){return this.fromWireType(z[r>>0])};case 2:return t?function(r){return this.fromWireType(ue[r>>1])}:function(r){return this.fromWireType(he[r>>1])};case 4:return t?function(r){return this.fromWireType(Y[r>>2])}:function(r){return this.fromWireType(R[r>>2])};default:throw new TypeError(`invalid integer width (${e}): ${n}`)}},Xr=(n,e,t,r)=>{e=V(e);function a(){}a.values={},Q(n,{name:e,constructor:a,fromWireType:function(s){return this.constructor.values[s]},toWireType:(s,u)=>u.value,argPackAdvance:K,readValueFromPointer:Zr(e,t,r),destructorFunction:null}),Ye(e,a)},Je=(n,e)=>{var t=ie[n];return t===void 0&&O(e+" has unknown type "+St(n)),t},Qr=(n,e,t)=>{var r=Je(n,"enum");e=V(e);var a=r.constructor,s=Object.create(r.constructor.prototype,{value:{value:t},constructor:{value:ze(`${r.name}_${e}`,function(){})}});a.values[t]=s,a[e]=s},Ze=n=>{if(n===null)return"null";var e=typeof n;return e==="object"||e==="array"||e==="function"?n.toString():""+n},Kr=(n,e)=>{switch(e){case 4:return function(t){return this.fromWireType(at[t>>2])};case 8:return function(t){return this.fromWireType(it[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${n}`)}},en=(n,e,t)=>{e=V(e),Q(n,{name:e,fromWireType:r=>r,toWireType:(r,a)=>a,argPackAdvance:K,readValueFromPointer:Kr(e,t),destructorFunction:null})},tn=(n,e,t,r,a,s,u)=>{var l=Ne(e,t);n=V(n),n=At(n),a=X(r,a),Ye(n,function(){Re(`Cannot call ${n} due to unbound types`,l)},e-1),oe([],l,function(f){var d=[f[0],null].concat(f.slice(1));return _t(n,qe(n,d,null,a,s),e-1),[]})},rn=(n,e,t)=>{switch(e){case 1:return t?r=>B[r>>0]:r=>z[r>>0];case 2:return t?r=>ue[r>>1]:r=>he[r>>1];case 4:return t?r=>Y[r>>2]:r=>R[r>>2];default:throw new TypeError(`invalid integer width (${e}): ${n}`)}},nn=(n,e,t,r,a)=>{e=V(e);var s=v=>v;if(r===0){var u=32-8*t;s=v=>v<<u>>>u}var l=e.includes("unsigned"),f=(v,g)=>{},d;l?d=function(v,g){return f(g,this.name),g>>>0}:d=function(v,g){return f(g,this.name),g},Q(n,{name:e,fromWireType:s,toWireType:d,argPackAdvance:K,readValueFromPointer:rn(e,t,r!==0),destructorFunction:null})},an=(n,e,t)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=r[e];function s(u){var l=R[u>>2],f=R[u+4>>2];return new a(B.buffer,f,l)}t=V(t),Q(n,{name:t,fromWireType:s,argPackAdvance:K,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},Dt=(n,e,t,r)=>{if(!(r>0))return 0;for(var a=t,s=t+r-1,u=0;u<n.length;++u){var l=n.charCodeAt(u);if(l>=55296&&l<=57343){var f=n.charCodeAt(++u);l=65536+((l&1023)<<10)|f&1023}if(l<=127){if(t>=s)break;e[t++]=l}else if(l<=2047){if(t+1>=s)break;e[t++]=192|l>>6,e[t++]=128|l&63}else if(l<=65535){if(t+2>=s)break;e[t++]=224|l>>12,e[t++]=128|l>>6&63,e[t++]=128|l&63}else{if(t+3>=s)break;e[t++]=240|l>>18,e[t++]=128|l>>12&63,e[t++]=128|l>>6&63,e[t++]=128|l&63}}return e[t]=0,t-a},on=(n,e,t)=>Dt(n,z,e,t),Mt=n=>{for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++t):e+=3}return e},Rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sn=(n,e,t)=>{for(var r=e+t,a=e;n[a]&&!(a>=r);)++a;if(a-e>16&&n.buffer&&Rt)return Rt.decode(n.subarray(e,a));for(var s="";e<a;){var u=n[e++];if(!(u&128)){s+=String.fromCharCode(u);continue}var l=n[e++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|l);continue}var f=n[e++]&63;if((u&240)==224?u=(u&15)<<12|l<<6|f:u=(u&7)<<18|l<<12|f<<6|n[e++]&63,u<65536)s+=String.fromCharCode(u);else{var d=u-65536;s+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return s},Xe=(n,e)=>n?sn(z,n,e):"",un=(n,e)=>{e=V(e);var t=e==="std::string";Q(n,{name:e,fromWireType(r){var a=R[r>>2],s=r+4,u;if(t)for(var l=s,f=0;f<=a;++f){var d=s+f;if(f==a||z[d]==0){var v=d-l,g=Xe(l,v);u===void 0?u=g:(u+=String.fromCharCode(0),u+=g),l=d+1}}else{for(var b=new Array(a),f=0;f<a;++f)b[f]=String.fromCharCode(z[s+f]);u=b.join("")}return re(r),u},toWireType(r,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var s,u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||O("Cannot pass non-string to std::string"),t&&u?s=Mt(a):s=a.length;var l=Ke(4+s+1),f=l+4;if(R[l>>2]=s,t&&u)on(a,f,s+1);else if(u)for(var d=0;d<s;++d){var v=a.charCodeAt(d);v>255&&(re(f),O("String has UTF-16 code units that do not fit in 8 bits")),z[f+d]=v}else for(var d=0;d<s;++d)z[f+d]=a[d];return r!==null&&r.push(re,l),l},argPackAdvance:K,readValueFromPointer:Ct,destructorFunction(r){re(r)}})},xt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,cn=(n,e)=>{for(var t=n,r=t>>1,a=r+e/2;!(r>=a)&&he[r];)++r;if(t=r<<1,t-n>32&&xt)return xt.decode(z.subarray(n,t));for(var s="",u=0;!(u>=e/2);++u){var l=ue[n+u*2>>1];if(l==0)break;s+=String.fromCharCode(l)}return s},ln=(n,e,t)=>{if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var r=e,a=t<n.length*2?t/2:n.length,s=0;s<a;++s){var u=n.charCodeAt(s);ue[e>>1]=u,e+=2}return ue[e>>1]=0,e-r},fn=n=>n.length*2,dn=(n,e)=>{for(var t=0,r="";!(t>=e/4);){var a=Y[n+t*4>>2];if(a==0)break;if(++t,a>=65536){var s=a-65536;r+=String.fromCharCode(55296|s>>10,56320|s&1023)}else r+=String.fromCharCode(a)}return r},hn=(n,e,t)=>{if(t===void 0&&(t=2147483647),t<4)return 0;for(var r=e,a=r+t-4,s=0;s<n.length;++s){var u=n.charCodeAt(s);if(u>=55296&&u<=57343){var l=n.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(Y[e>>2]=u,e+=4,e+4>a)break}return Y[e>>2]=0,e-r},pn=n=>{for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);r>=55296&&r<=57343&&++t,e+=4}return e},vn=(n,e,t)=>{t=V(t);var r,a,s,u,l;e===2?(r=cn,a=ln,u=fn,s=()=>he,l=1):e===4&&(r=dn,a=hn,u=pn,s=()=>R,l=2),Q(n,{name:t,fromWireType:f=>{for(var d=R[f>>2],v=s(),g,b=f+4,P=0;P<=d;++P){var M=f+4+P*e;if(P==d||v[M>>l]==0){var I=M-b,U=r(b,I);g===void 0?g=U:(g+=String.fromCharCode(0),g+=U),b=M+e}}return re(f),g},toWireType:(f,d)=>{typeof d!="string"&&O(`Cannot pass non-string to C++ string type ${t}`);var v=u(d),g=Ke(4+v+e);return R[g>>2]=v>>l,a(d,g+4,v+e),f!==null&&f.push(re,g),g},argPackAdvance:K,readValueFromPointer:Le,destructorFunction(f){re(f)}})},mn=(n,e,t,r,a,s)=>{Te[n]={name:V(e),rawConstructor:X(t,r),rawDestructor:X(a,s),fields:[]}},yn=(n,e,t,r,a,s,u,l,f,d)=>{Te[n].fields.push({fieldName:V(e),getterReturnType:t,getter:X(r,a),getterContext:s,setterArgumentType:u,setter:X(l,f),setterContext:d})},gn=(n,e)=>{e=V(e),Q(n,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,r)=>{}})},wn={},$n=n=>{var e=wn[n];return e===void 0?V(n):e},Ft=()=>{if(typeof globalThis=="object")return globalThis;function n(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$=="object"&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&n(global)?$$$embind_global$$$=global:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},bn=n=>n===0?ne.toHandle(Ft()):(n=$n(n),ne.toHandle(Ft()[n])),Cn=n=>{n>4&&(J.get(n).refcount+=1)},_n=n=>{var e=new Array(n+1);return function(t,r,a){e[0]=t;for(var s=0;s<n;++s){var u=Je(R[r+s*4>>2],"parameter "+s);e[s+1]=u.readValueFromPointer(a),a+=u.argPackAdvance}var l=new(t.bind.apply(t,e));return ne.toHandle(l)}},kt={},Pn=(n,e,t,r)=>{n=ne.toValue(n);var a=kt[e];return a||(a=_n(e),kt[e]=a),a(n,t,r)},Tn=(n,e)=>{n=Je(n,"_emval_take_value");var t=n.readValueFromPointer(e);return ne.toHandle(t)},Sn=()=>{ve("")},An=(n,e,t)=>z.copyWithin(n,e,e+t),En=()=>2147483648,On=n=>{var e=N.buffer,t=(n-e.byteLength+65535)/65536;try{return N.grow(t),ot(),1}catch{}},Dn=n=>{var e=z.length;n>>>=0;var t=En();if(n>t)return!1;for(var r=(f,d)=>f+(d-f%d)%d,a=1;a<=4;a*=2){var s=e*(1+.2/a);s=Math.min(s,n+100663296);var u=Math.min(t,r(Math.max(n,s),65536)),l=On(u);if(l)return!0}return!1},Qe={},Mn=()=>C||"./this.program",$e=()=>{if(!$e.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Mn()};for(var t in Qe)Qe[t]===void 0?delete e[t]:e[t]=Qe[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);$e.strings=r}return $e.strings},Rn=(n,e)=>{for(var t=0;t<n.length;++t)B[e++>>0]=n.charCodeAt(t);B[e>>0]=0},xn=(n,e)=>{var t=0;return $e().forEach((r,a)=>{var s=e+t;R[n+a*4>>2]=s,Rn(r,s),t+=r.length+1}),0},Fn=(n,e)=>{var t=$e();R[n>>2]=t.length;var r=0;return t.forEach(a=>r+=a.length+1),R[e>>2]=r,0},kn=n=>n,xe=n=>n%4===0&&(n%100!==0||n%400===0),jn=(n,e)=>{for(var t=0,r=0;r<=e;t+=n[r++]);return t},jt=[31,29,31,30,31,30,31,31,30,31,30,31],Wt=[31,28,31,30,31,30,31,31,30,31,30,31],Wn=(n,e)=>{for(var t=new Date(n.getTime());e>0;){var r=xe(t.getFullYear()),a=t.getMonth(),s=(r?jt:Wt)[a];if(e>s-t.getDate())e-=s-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+e),t}return t};function In(n,e,t){var r=t>0?t:Mt(n)+1,a=new Array(r),s=Dt(n,a,0,a.length);return e&&(a.length=s),a}var Un=(n,e)=>{B.set(n,e)},Ln=(n,e,t,r)=>{var a=R[r+40>>2],s={tm_sec:Y[r>>2],tm_min:Y[r+4>>2],tm_hour:Y[r+8>>2],tm_mday:Y[r+12>>2],tm_mon:Y[r+16>>2],tm_year:Y[r+20>>2],tm_wday:Y[r+24>>2],tm_yday:Y[r+28>>2],tm_isdst:Y[r+32>>2],tm_gmtoff:Y[r+36>>2],tm_zone:a?Xe(a):""},u=Xe(t),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in l)u=u.replace(new RegExp(f,"g"),l[f]);var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(y,p,_){for(var H=typeof y=="number"?y.toString():y||"";H.length<p;)H=_[0]+H;return H}function b(y,p){return g(y,p,"0")}function P(y,p){function _(q){return q<0?-1:q>0?1:0}var H;return(H=_(y.getFullYear()-p.getFullYear()))===0&&(H=_(y.getMonth()-p.getMonth()))===0&&(H=_(y.getDate()-p.getDate())),H}function M(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function I(y){var p=Wn(new Date(y.tm_year+1900,0,1),y.tm_yday),_=new Date(p.getFullYear(),0,4),H=new Date(p.getFullYear()+1,0,4),q=M(_),de=M(H);return P(q,p)<=0?P(de,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var U={"%a":y=>d[y.tm_wday].substring(0,3),"%A":y=>d[y.tm_wday],"%b":y=>v[y.tm_mon].substring(0,3),"%B":y=>v[y.tm_mon],"%C":y=>{var p=y.tm_year+1900;return b(p/100|0,2)},"%d":y=>b(y.tm_mday,2),"%e":y=>g(y.tm_mday,2," "),"%g":y=>I(y).toString().substring(2),"%G":y=>I(y),"%H":y=>b(y.tm_hour,2),"%I":y=>{var p=y.tm_hour;return p==0?p=12:p>12&&(p-=12),b(p,2)},"%j":y=>b(y.tm_mday+jn(xe(y.tm_year+1900)?jt:Wt,y.tm_mon-1),3),"%m":y=>b(y.tm_mon+1,2),"%M":y=>b(y.tm_min,2),"%n":()=>`
`,"%p":y=>y.tm_hour>=0&&y.tm_hour<12?"AM":"PM","%S":y=>b(y.tm_sec,2),"%t":()=>"	","%u":y=>y.tm_wday||7,"%U":y=>{var p=y.tm_yday+7-y.tm_wday;return b(Math.floor(p/7),2)},"%V":y=>{var p=Math.floor((y.tm_yday+7-(y.tm_wday+6)%7)/7);if((y.tm_wday+371-y.tm_yday-2)%7<=2&&p++,p){if(p==53){var _=(y.tm_wday+371-y.tm_yday)%7;_!=4&&(_!=3||!xe(y.tm_year))&&(p=1)}}else{p=52;var H=(y.tm_wday+7-y.tm_yday-1)%7;(H==4||H==5&&xe(y.tm_year%400-1))&&p++}return b(p,2)},"%w":y=>y.tm_wday,"%W":y=>{var p=y.tm_yday+7-(y.tm_wday+6)%7;return b(Math.floor(p/7),2)},"%y":y=>(y.tm_year+1900).toString().substring(2),"%Y":y=>y.tm_year+1900,"%z":y=>{var p=y.tm_gmtoff,_=p>=0;return p=Math.abs(p)/60,p=p/60*100+p%60,(_?"+":"-")+("0000"+p).slice(-4)},"%Z":y=>y.tm_zone,"%%":()=>"%"};u=u.replace(/%%/g,"\0\0");for(var f in U)u.includes(f)&&(u=u.replace(new RegExp(f,"g"),U[f](s)));u=u.replace(/\0\0/g,"%");var L=In(u,!1);return L.length>e?0:(Un(L,n),L.length-1)},Hn=(n,e,t,r,a)=>Ln(n,e,t,r);pt=o.InternalError=class extends Error{constructor(n){super(n),this.name="InternalError"}},wr(),fe=o.BindingError=class extends Error{constructor(n){super(n),this.name="BindingError"}},Mr(),Ar(),Ir(),Tt=o.UnboundTypeError=Vr(Error,"UnboundTypeError"),Gr(),qr();var Vn={s:ur,v:cr,b:fr,g:dr,q:hr,I:pr,f:vr,T:mr,d:lr,ba:yr,P:gr,Y:br,aa:Br,$:zr,w:Yr,X:Jr,x:Xr,h:Qr,K:en,L:tn,t:nn,n:an,J:un,C:vn,A:mn,ca:yn,Z:gn,ea:Ot,da:bn,M:Cn,V:Pn,_:Tn,B:Sn,W:An,U:Dn,R:xn,S:Fn,D:na,E:ra,m:aa,a:Bn,e:Nn,o:Zn,k:Gn,G:ea,u:Qn,F:ta,z:oa,O:ua,l:qn,j:Jn,c:Yn,p:zn,H:Kn,r:ia,i:Xn,y:sa,N:kn,Q:Hn},F=sr(),re=o._free=n=>(re=o._free=F.ha)(n),Ke=o._malloc=n=>(Ke=o._malloc=F.ia)(n),It=n=>(It=F.ka)(n);o.__embind_initialize_bindings=()=>(o.__embind_initialize_bindings=F.la)();var x=(n,e)=>(x=F.ma)(n,e),be=n=>(be=F.na)(n),j=()=>(j=F.oa)(),W=n=>(W=F.pa)(n),Ut=n=>(Ut=F.qa)(n),Lt=n=>(Lt=F.ra)(n),Ht=(n,e,t)=>(Ht=F.sa)(n,e,t),Vt=n=>(Vt=F.ta)(n);o.dynCall_viijii=(n,e,t,r,a,s,u)=>(o.dynCall_viijii=F.ua)(n,e,t,r,a,s,u);var Bt=o.dynCall_jiiii=(n,e,t,r,a)=>(Bt=o.dynCall_jiiii=F.va)(n,e,t,r,a);o.dynCall_iiiiij=(n,e,t,r,a,s,u)=>(o.dynCall_iiiiij=F.wa)(n,e,t,r,a,s,u),o.dynCall_iiiiijj=(n,e,t,r,a,s,u,l,f)=>(o.dynCall_iiiiijj=F.xa)(n,e,t,r,a,s,u,l,f),o.dynCall_iiiiiijj=(n,e,t,r,a,s,u,l,f,d)=>(o.dynCall_iiiiiijj=F.ya)(n,e,t,r,a,s,u,l,f,d);function Bn(n,e){var t=j();try{return k(n)(e)}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function zn(n,e,t,r){var a=j();try{k(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function Yn(n,e,t){var r=j();try{k(n)(e,t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function Gn(n,e,t,r,a){var s=j();try{return k(n)(e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function Nn(n,e,t){var r=j();try{return k(n)(e,t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function qn(n){var e=j();try{k(n)()}catch(t){if(W(e),t!==t+0)throw t;x(1,0)}}function Jn(n,e){var t=j();try{k(n)(e)}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function Zn(n,e,t,r){var a=j();try{return k(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function Xn(n,e,t,r,a,s,u,l,f,d,v){var g=j();try{k(n)(e,t,r,a,s,u,l,f,d,v)}catch(b){if(W(g),b!==b+0)throw b;x(1,0)}}function Qn(n,e,t,r,a,s,u){var l=j();try{return k(n)(e,t,r,a,s,u)}catch(f){if(W(l),f!==f+0)throw f;x(1,0)}}function Kn(n,e,t,r,a){var s=j();try{k(n)(e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function ea(n,e,t,r,a,s){var u=j();try{return k(n)(e,t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function ta(n,e,t,r,a,s,u,l){var f=j();try{return k(n)(e,t,r,a,s,u,l)}catch(d){if(W(f),d!==d+0)throw d;x(1,0)}}function ra(n,e,t,r){var a=j();try{return k(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function na(n,e,t,r){var a=j();try{return k(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function aa(n){var e=j();try{return k(n)()}catch(t){if(W(e),t!==t+0)throw t;x(1,0)}}function ia(n,e,t,r,a,s,u,l){var f=j();try{k(n)(e,t,r,a,s,u,l)}catch(d){if(W(f),d!==d+0)throw d;x(1,0)}}function oa(n,e,t,r,a,s,u,l,f,d,v,g){var b=j();try{return k(n)(e,t,r,a,s,u,l,f,d,v,g)}catch(P){if(W(b),P!==P+0)throw P;x(1,0)}}function sa(n,e,t,r,a,s,u,l,f,d,v,g,b,P,M,I){var U=j();try{k(n)(e,t,r,a,s,u,l,f,d,v,g,b,P,M,I)}catch(L){if(W(U),L!==L+0)throw L;x(1,0)}}function ua(n,e,t,r,a){var s=j();try{return Bt(n,e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}var tt;pe=function n(){tt||et(),tt||(pe=n)};function et(){if(ae>0||(Zt(),ae>0))return;function n(){tt||(tt=!0,o.calledRun=!0,!Z&&(Xt(),h(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Qt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return et(),c.ready}})();function Ti(i){return fa(da,i)}async function Si(i,c){return _i(da,i,c)}async function Ai(i,c){return Pi(da,i,c)}(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(c={}){var o=c,h,m;o.ready=new Promise((e,t)=>{h=e,m=t});var $=Object.assign({},o),C="./this.program",T=typeof window=="object",A=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var w="";function E(e){return o.locateFile?o.locateFile(e,w):w+e}var D;(T||A)&&(A?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),i&&(w=i),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",A&&(D=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var S=o.printErr||console.error.bind(console);Object.assign(o,$),$=null,o.arguments&&o.arguments,o.thisProgram&&(C=o.thisProgram),o.quit&&o.quit;var G;o.wasmBinary&&(G=o.wasmBinary),typeof WebAssembly!="object"&&ve("no native wasm support detected");var N,Z=!1;function ee(e,t){e||ve(t)}var B,z,ue,he,Y,R,at,it;function ot(){var e=N.buffer;o.HEAP8=B=new Int8Array(e),o.HEAP16=ue=new Int16Array(e),o.HEAPU8=z=new Uint8Array(e),o.HEAPU16=he=new Uint16Array(e),o.HEAP32=Y=new Int32Array(e),o.HEAPU32=R=new Uint32Array(e),o.HEAPF32=at=new Float32Array(e),o.HEAPF64=it=new Float64Array(e)}var st=[],ut=[],ct=[];function Zt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Kt(o.preRun.shift());We(st)}function Xt(){We(ut)}function Qt(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)tr(o.postRun.shift());We(ct)}function Kt(e){st.unshift(e)}function er(e){ut.unshift(e)}function tr(e){ct.unshift(e)}var ae=0,pe=null;function rr(e){ae++,o.monitorRunDependencies&&o.monitorRunDependencies(ae)}function nr(e){if(ae--,o.monitorRunDependencies&&o.monitorRunDependencies(ae),ae==0&&pe){var t=pe;pe=null,t()}}function ve(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",S(e),Z=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw m(t),t}var ar="data:application/octet-stream;base64,",lt=e=>e.startsWith(ar),ce;ce="zxing_full.wasm",lt(ce)||(ce=E(ce));function ft(e){if(e==ce&&G)return new Uint8Array(G);if(D)return D(e);throw"both async and sync fetching of the wasm failed"}function ir(e){return!G&&(T||A)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>ft(e)):Promise.resolve().then(()=>ft(e))}function dt(e,t,r){return ir(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{S(`failed to asynchronously prepare wasm: ${a}`),ve(a)})}function or(e,t,r,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!lt(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,r);return u.then(a,function(l){return S(`wasm streaming compile failed: ${l}`),S("falling back to ArrayBuffer instantiation"),dt(t,r,a)})}):dt(t,r,a)}function sr(){var e={a:Vn};function t(a,s){return F=a.exports,N=F.ga,ot(),Pt=F.ka,er(F.ha),nr(),F}rr();function r(a){t(a.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(a){S(`Module.instantiateWasm callback failed with error: ${a}`),m(a)}return or(G,ce,e,r).catch(m),{}}var We=e=>{for(;e.length>0;)e.shift()(o)};o.noExitRuntime;var _e=[],Pe=0,ur=e=>{var t=new Ie(e);return t.get_caught()||(t.set_caught(!0),Pe--),t.set_rethrown(!1),_e.push(t),Lt(t.excPtr),t.get_exception_ptr()},te=0,cr=()=>{x(0,0);var e=_e.pop();Ut(e.excPtr),te=0};function Ie(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){R[this.ptr+4>>2]=t},this.get_type=function(){return R[this.ptr+4>>2]},this.set_destructor=function(t){R[this.ptr+8>>2]=t},this.get_destructor=function(){return R[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,B[this.ptr+12>>0]=t},this.get_caught=function(){return B[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,B[this.ptr+13>>0]=t},this.get_rethrown=function(){return B[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){R[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return R[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Vt(this.get_type());if(t)return R[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var lr=e=>{throw te||(te=e),te},Ue=e=>{var t=te;if(!t)return be(0),0;var r=new Ie(t);r.set_adjusted_ptr(t);var a=r.get_type();if(!a)return be(0),t;for(var s in e){var u=e[s];if(u===0||u===a)break;var l=r.ptr+16;if(Ht(u,a,l))return be(u),t}return be(a),t},fr=()=>Ue([]),dr=e=>Ue([e]),hr=(e,t)=>Ue([e,t]),pr=()=>{var e=_e.pop();e||ve("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(_e.push(e),e.set_rethrown(!0),e.set_caught(!1),Pe++),te=t,te},vr=(e,t,r)=>{var a=new Ie(e);throw a.init(t,r),te=e,Pe++,te},mr=()=>Pe,Te={},ht=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function Le(e){return this.fromWireType(Y[e>>2])}var le={},ie={},Se={},pt,Ae=e=>{throw new pt(e)},oe=(e,t,r)=>{e.forEach(function(f){Se[f]=t});function a(f){var d=r(f);d.length!==e.length&&Ae("Mismatched type converter count");for(var v=0;v<e.length;++v)Q(e[v],d[v])}var s=new Array(t.length),u=[],l=0;t.forEach((f,d)=>{ie.hasOwnProperty(f)?s[d]=ie[f]:(u.push(f),le.hasOwnProperty(f)||(le[f]=[]),le[f].push(()=>{s[d]=ie[f],++l,l===u.length&&a(s)}))}),u.length===0&&a(s)},yr=e=>{var t=Te[e];delete Te[e];var r=t.rawConstructor,a=t.rawDestructor,s=t.fields,u=s.map(l=>l.getterReturnType).concat(s.map(l=>l.setterArgumentType));oe([e],u,l=>{var f={};return s.forEach((d,v)=>{var g=d.fieldName,b=l[v],P=d.getter,M=d.getterContext,I=l[v+s.length],U=d.setter,L=d.setterContext;f[g]={read:y=>b.fromWireType(P(M,y)),write:(y,p)=>{var _=[];U(L,y,I.toWireType(_,p)),ht(_)}}}),[{name:t.name,fromWireType:d=>{var v={};for(var g in f)v[g]=f[g].read(d);return a(d),v},toWireType:(d,v)=>{for(var g in f)if(!(g in v))throw new TypeError(`Missing field: "${g}"`);var b=r();for(g in f)f[g].write(b,v[g]);return d!==null&&d.push(a,b),b},argPackAdvance:K,readValueFromPointer:Le,destructorFunction:a}]})},gr=(e,t,r,a,s)=>{},wr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);vt=e},vt,V=e=>{for(var t="",r=e;z[r];)t+=vt[z[r++]];return t},fe,O=e=>{throw new fe(e)};function $r(e,t,r={}){var a=t.name;if(e||O(`type "${a}" must have a positive integer typeid pointer`),ie.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;O(`Cannot register type '${a}' twice`)}if(ie[e]=t,delete Se[e],le.hasOwnProperty(e)){var s=le[e];delete le[e],s.forEach(u=>u())}}function Q(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return $r(e,t,r)}var K=8,br=(e,t,r,a)=>{t=V(t),Q(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?r:a},argPackAdvance:K,readValueFromPointer:function(s){return this.fromWireType(z[s])},destructorFunction:null})},Cr=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),He=e=>{function t(r){return r.$$.ptrType.registeredClass.name}O(t(e)+" instance already deleted")},Ve=!1,mt=e=>{},_r=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},yt=e=>{e.count.value-=1;var t=e.count.value===0;t&&_r(e)},gt=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var a=gt(e,t,r.baseClass);return a===null?null:r.downcast(a)},wt={},Pr=()=>Object.keys(ge).length,Tr=()=>{var e=[];for(var t in ge)ge.hasOwnProperty(t)&&e.push(ge[t]);return e},me=[],Be=()=>{for(;me.length;){var e=me.pop();e.$$.deleteScheduled=!1,e.delete()}},ye,Sr=e=>{ye=e,me.length&&ye&&ye(Be)},Ar=()=>{o.getInheritedInstanceCount=Pr,o.getLiveInheritedInstances=Tr,o.flushPendingDeletes=Be,o.setDelayFunction=Sr},ge={},Er=(e,t)=>{for(t===void 0&&O("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Or=(e,t)=>(t=Er(e,t),ge[t]),Ee=(e,t)=>{(!t.ptrType||!t.ptr)&&Ae("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,a=!!t.smartPtr;return r!==a&&Ae("Both smartPtrType and smartPtr must be specified"),t.count={value:1},we(Object.create(e,{$$:{value:t}}))};function Dr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Or(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var a=r.clone();return this.destructor(e),a}function s(){return this.isSmartPointer?Ee(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ee(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),l=wt[u];if(!l)return s.call(this);var f;this.isConst?f=l.constPointerType:f=l.pointerType;var d=gt(t,this.registeredClass,f.registeredClass);return d===null?s.call(this):this.isSmartPointer?Ee(f.registeredClass.instancePrototype,{ptrType:f,ptr:d,smartPtrType:this,smartPtr:e}):Ee(f.registeredClass.instancePrototype,{ptrType:f,ptr:d})}var we=e=>typeof FinalizationRegistry>"u"?(we=t=>t,e):(Ve=new FinalizationRegistry(t=>{yt(t.$$)}),we=t=>{var r=t.$$,a=!!r.smartPtr;if(a){var s={$$:r};Ve.register(t,s,t)}return t},mt=t=>Ve.unregister(t),we(e)),Mr=()=>{Object.assign(Oe.prototype,{isAliasOf(e){if(!(this instanceof Oe)||!(e instanceof Oe))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var a=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;a.baseClass;)s=a.upcast(s),a=a.baseClass;return t===a&&r===s},clone(){if(this.$$.ptr||He(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=we(Object.create(Object.getPrototypeOf(this),{$$:{value:Cr(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),mt(this),yt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),me.push(this),me.length===1&&ye&&ye(Be),this.$$.deleteScheduled=!0,this}})};function Oe(){}var Rr=48,xr=57,$t=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Rr&&t<=xr?`_${e}`:e};function ze(e,t){return e=$t(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var bt=(e,t,r)=>{if(e[t].overloadTable===void 0){var a=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||O(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[a.argCount]=a}},Ye=(e,t,r)=>{o.hasOwnProperty(e)?((r===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[r]!==void 0)&&O(`Cannot register public name '${e}' twice`),bt(o,e,e),o.hasOwnProperty(r)&&O(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,r!==void 0&&(o[e].numArguments=r))};function Fr(e,t,r,a,s,u,l,f){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=a,this.baseClass=s,this.getActualType=u,this.upcast=l,this.downcast=f,this.pureVirtualFunctions=[]}var Ge=(e,t,r)=>{for(;t!==r;)t.upcast||O(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function kr(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${Ze(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=Ge(t.$$.ptr,r,this.registeredClass);return a}function jr(e,t){var r;if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||O(`Cannot pass "${Ze(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var a=t.$$.ptrType.registeredClass;if(r=Ge(t.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&O("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,ne.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:O("Unsupporting sharing policy")}return r}function Wr(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${Ze(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=Ge(t.$$.ptr,r,this.registeredClass);return a}function Ct(e){return this.fromWireType(R[e>>2])}var Ir=()=>{Object.assign(De.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:K,readValueFromPointer:Ct,deleteObject(e){e!==null&&e.delete()},fromWireType:Dr})};function De(e,t,r,a,s,u,l,f,d,v,g){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=a,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=l,this.rawGetPointee=f,this.rawConstructor=d,this.rawShare=v,this.rawDestructor=g,!s&&t.baseClass===void 0?a?(this.toWireType=kr,this.destructorFunction=null):(this.toWireType=Wr,this.destructorFunction=null):this.toWireType=jr}var _t=(e,t,r)=>{o.hasOwnProperty(e)||Ae("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&r!==void 0?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)},Ur=(e,t,r)=>{var a=o["dynCall_"+e];return r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)},Me=[],Pt,k=e=>{var t=Me[e];return t||(e>=Me.length&&(Me.length=e+1),Me[e]=t=Pt.get(e)),t},Lr=(e,t,r)=>{if(e.includes("j"))return Ur(e,t,r);var a=k(t).apply(null,r);return a},Hr=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Lr(e,t,r)}},X=(e,t)=>{e=V(e);function r(){return e.includes("j")?Hr(e,t):k(t)}var a=r();return typeof a!="function"&&O(`unknown function pointer with signature ${e}: ${t}`),a},Vr=(e,t)=>{var r=ze(t,function(a){this.name=t,this.message=a;var s=new Error(a).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Tt,St=e=>{var t=It(e),r=V(t);return re(t),r},Re=(e,t)=>{var r=[],a={};function s(u){if(!a[u]&&!ie[u]){if(Se[u]){Se[u].forEach(s);return}r.push(u),a[u]=!0}}throw t.forEach(s),new Tt(`${e}: `+r.map(St).join([", "]))},Br=(e,t,r,a,s,u,l,f,d,v,g,b,P)=>{g=V(g),u=X(s,u),f&&(f=X(l,f)),v&&(v=X(d,v)),P=X(b,P);var M=$t(g);Ye(M,function(){Re(`Cannot construct ${g} due to unbound types`,[a])}),oe([e,t,r],a?[a]:[],function(I){I=I[0];var U,L;a?(U=I.registeredClass,L=U.instancePrototype):L=Oe.prototype;var y=ze(M,function(){if(Object.getPrototypeOf(this)!==p)throw new fe("Use 'new' to construct "+g);if(_.constructor_body===void 0)throw new fe(g+" has no accessible constructor");var Yt=_.constructor_body[arguments.length];if(Yt===void 0)throw new fe(`Tried to invoke ctor of ${g} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(_.constructor_body).toString()}) parameters instead!`);return Yt.apply(this,arguments)}),p=Object.create(L,{constructor:{value:y}});y.prototype=p;var _=new Fr(g,y,p,P,U,u,f,v);_.baseClass&&(_.baseClass.__derivedClasses===void 0&&(_.baseClass.__derivedClasses=[]),_.baseClass.__derivedClasses.push(_));var H=new De(g,_,!0,!1,!1),q=new De(g+"*",_,!1,!1,!1),de=new De(g+" const*",_,!1,!0,!1);return wt[e]={pointerType:q,constPointerType:de},_t(M,y),[H,q,de]})},Ne=(e,t)=>{for(var r=[],a=0;a<e;a++)r.push(R[t+a*4>>2]);return r};function qe(e,t,r,a,s,u){var l=t.length;l<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=t[1]!==null&&r!==null,d=!1,v=1;v<t.length;++v)if(t[v]!==null&&t[v].destructorFunction===void 0){d=!0;break}var g=t[0].name!=="void",b=l-2,P=new Array(b),M=[],I=[];return function(){arguments.length!==b&&O(`function ${e} called with ${arguments.length} arguments, expected ${b}`),I.length=0;var U;M.length=f?2:1,M[0]=s,f&&(U=t[1].toWireType(I,this),M[1]=U);for(var L=0;L<b;++L)P[L]=t[L+2].toWireType(I,arguments[L]),M.push(P[L]);var y=a.apply(null,M);function p(_){if(d)ht(I);else for(var H=f?1:2;H<t.length;H++){var q=H===1?U:P[H-2];t[H].destructorFunction!==null&&t[H].destructorFunction(q)}if(g)return t[0].fromWireType(_)}return p(y)}}var zr=(e,t,r,a,s,u)=>{var l=Ne(t,r);s=X(a,s),oe([],[e],function(f){f=f[0];var d=`constructor ${f.name}`;if(f.registeredClass.constructor_body===void 0&&(f.registeredClass.constructor_body=[]),f.registeredClass.constructor_body[t-1]!==void 0)throw new fe(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${f.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return f.registeredClass.constructor_body[t-1]=()=>{Re(`Cannot construct ${f.name} due to unbound types`,l)},oe([],l,v=>(v.splice(1,0,null),f.registeredClass.constructor_body[t-1]=qe(d,v,null,s,u),[])),[]})},At=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?(ee(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,t)):e},Yr=(e,t,r,a,s,u,l,f,d)=>{var v=Ne(r,a);t=V(t),t=At(t),u=X(s,u),oe([],[e],function(g){g=g[0];var b=`${g.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&g.registeredClass.pureVirtualFunctions.push(t);function P(){Re(`Cannot call ${b} due to unbound types`,v)}var M=g.registeredClass.instancePrototype,I=M[t];return I===void 0||I.overloadTable===void 0&&I.className!==g.name&&I.argCount===r-2?(P.argCount=r-2,P.className=g.name,M[t]=P):(bt(M,t,b),M[t].overloadTable[r-2]=P),oe([],v,function(U){var L=qe(b,U,g,u,l);return M[t].overloadTable===void 0?(L.argCount=r-2,M[t]=L):M[t].overloadTable[r-2]=L,[]}),[]})};function Gr(){Object.assign(Et.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Et(){this.allocated=[void 0],this.freelist=[]}var J=new Et,Ot=e=>{e>=J.reserved&&--J.get(e).refcount===0&&J.free(e)},Nr=()=>{for(var e=0,t=J.reserved;t<J.allocated.length;++t)J.allocated[t]!==void 0&&++e;return e},qr=()=>{J.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),J.reserved=J.allocated.length,o.count_emval_handles=Nr},ne={toValue:e=>(e||O("Cannot use deleted val. handle = "+e),J.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return J.allocate({refcount:1,value:e})}}},Jr=(e,t)=>{t=V(t),Q(e,{name:t,fromWireType:r=>{var a=ne.toValue(r);return Ot(r),a},toWireType:(r,a)=>ne.toHandle(a),argPackAdvance:K,readValueFromPointer:Le,destructorFunction:null})},Zr=(e,t,r)=>{switch(t){case 1:return r?function(a){return this.fromWireType(B[a>>0])}:function(a){return this.fromWireType(z[a>>0])};case 2:return r?function(a){return this.fromWireType(ue[a>>1])}:function(a){return this.fromWireType(he[a>>1])};case 4:return r?function(a){return this.fromWireType(Y[a>>2])}:function(a){return this.fromWireType(R[a>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Xr=(e,t,r,a)=>{t=V(t);function s(){}s.values={},Q(e,{name:t,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,l)=>l.value,argPackAdvance:K,readValueFromPointer:Zr(t,r,a),destructorFunction:null}),Ye(t,s)},Je=(e,t)=>{var r=ie[e];return r===void 0&&O(t+" has unknown type "+St(e)),r},Qr=(e,t,r)=>{var a=Je(e,"enum");t=V(t);var s=a.constructor,u=Object.create(a.constructor.prototype,{value:{value:r},constructor:{value:ze(`${a.name}_${t}`,function(){})}});s.values[r]=u,s[t]=u},Ze=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Kr=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(at[r>>2])};case 8:return function(r){return this.fromWireType(it[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},en=(e,t,r)=>{t=V(t),Q(e,{name:t,fromWireType:a=>a,toWireType:(a,s)=>s,argPackAdvance:K,readValueFromPointer:Kr(t,r),destructorFunction:null})},tn=(e,t,r,a,s,u,l)=>{var f=Ne(t,r);e=V(e),e=At(e),s=X(a,s),Ye(e,function(){Re(`Cannot call ${e} due to unbound types`,f)},t-1),oe([],f,function(d){var v=[d[0],null].concat(d.slice(1));return _t(e,qe(e,v,null,s,u),t-1),[]})},rn=(e,t,r)=>{switch(t){case 1:return r?a=>B[a>>0]:a=>z[a>>0];case 2:return r?a=>ue[a>>1]:a=>he[a>>1];case 4:return r?a=>Y[a>>2]:a=>R[a>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},nn=(e,t,r,a,s)=>{t=V(t);var u=g=>g;if(a===0){var l=32-8*r;u=g=>g<<l>>>l}var f=t.includes("unsigned"),d=(g,b)=>{},v;f?v=function(g,b){return d(b,this.name),b>>>0}:v=function(g,b){return d(b,this.name),b},Q(e,{name:t,fromWireType:u,toWireType:v,argPackAdvance:K,readValueFromPointer:rn(t,r,a!==0),destructorFunction:null})},an=(e,t,r)=>{var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=a[t];function u(l){var f=R[l>>2],d=R[l+4>>2];return new s(B.buffer,d,f)}r=V(r),Q(e,{name:r,fromWireType:u,argPackAdvance:K,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})},Dt=(e,t,r,a)=>{if(!(a>0))return 0;for(var s=r,u=r+a-1,l=0;l<e.length;++l){var f=e.charCodeAt(l);if(f>=55296&&f<=57343){var d=e.charCodeAt(++l);f=65536+((f&1023)<<10)|d&1023}if(f<=127){if(r>=u)break;t[r++]=f}else if(f<=2047){if(r+1>=u)break;t[r++]=192|f>>6,t[r++]=128|f&63}else if(f<=65535){if(r+2>=u)break;t[r++]=224|f>>12,t[r++]=128|f>>6&63,t[r++]=128|f&63}else{if(r+3>=u)break;t[r++]=240|f>>18,t[r++]=128|f>>12&63,t[r++]=128|f>>6&63,t[r++]=128|f&63}}return t[r]=0,r-s},on=(e,t,r)=>Dt(e,z,t,r),Mt=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a<=127?t++:a<=2047?t+=2:a>=55296&&a<=57343?(t+=4,++r):t+=3}return t},Rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sn=(e,t,r)=>{for(var a=t+r,s=t;e[s]&&!(s>=a);)++s;if(s-t>16&&e.buffer&&Rt)return Rt.decode(e.subarray(t,s));for(var u="";t<s;){var l=e[t++];if(!(l&128)){u+=String.fromCharCode(l);continue}var f=e[t++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|f);continue}var d=e[t++]&63;if((l&240)==224?l=(l&15)<<12|f<<6|d:l=(l&7)<<18|f<<12|d<<6|e[t++]&63,l<65536)u+=String.fromCharCode(l);else{var v=l-65536;u+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return u},Xe=(e,t)=>e?sn(z,e,t):"",un=(e,t)=>{t=V(t);var r=t==="std::string";Q(e,{name:t,fromWireType(a){var s=R[a>>2],u=a+4,l;if(r)for(var f=u,d=0;d<=s;++d){var v=u+d;if(d==s||z[v]==0){var g=v-f,b=Xe(f,g);l===void 0?l=b:(l+=String.fromCharCode(0),l+=b),f=v+1}}else{for(var P=new Array(s),d=0;d<s;++d)P[d]=String.fromCharCode(z[u+d]);l=P.join("")}return re(a),l},toWireType(a,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||O("Cannot pass non-string to std::string"),r&&l?u=Mt(s):u=s.length;var f=Ke(4+u+1),d=f+4;if(R[f>>2]=u,r&&l)on(s,d,u+1);else if(l)for(var v=0;v<u;++v){var g=s.charCodeAt(v);g>255&&(re(d),O("String has UTF-16 code units that do not fit in 8 bits")),z[d+v]=g}else for(var v=0;v<u;++v)z[d+v]=s[v];return a!==null&&a.push(re,f),f},argPackAdvance:K,readValueFromPointer:Ct,destructorFunction(a){re(a)}})},xt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,cn=(e,t)=>{for(var r=e,a=r>>1,s=a+t/2;!(a>=s)&&he[a];)++a;if(r=a<<1,r-e>32&&xt)return xt.decode(z.subarray(e,r));for(var u="",l=0;!(l>=t/2);++l){var f=ue[e+l*2>>1];if(f==0)break;u+=String.fromCharCode(f)}return u},ln=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var a=t,s=r<e.length*2?r/2:e.length,u=0;u<s;++u){var l=e.charCodeAt(u);ue[t>>1]=l,t+=2}return ue[t>>1]=0,t-a},fn=e=>e.length*2,dn=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var s=Y[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|u&1023)}else a+=String.fromCharCode(s)}return a},hn=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<4)return 0;for(var a=t,s=a+r-4,u=0;u<e.length;++u){var l=e.charCodeAt(u);if(l>=55296&&l<=57343){var f=e.charCodeAt(++u);l=65536+((l&1023)<<10)|f&1023}if(Y[t>>2]=l,t+=4,t+4>s)break}return Y[t>>2]=0,t-a},pn=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=55296&&a<=57343&&++r,t+=4}return t},vn=(e,t,r)=>{r=V(r);var a,s,u,l,f;t===2?(a=cn,s=ln,l=fn,u=()=>he,f=1):t===4&&(a=dn,s=hn,l=pn,u=()=>R,f=2),Q(e,{name:r,fromWireType:d=>{for(var v=R[d>>2],g=u(),b,P=d+4,M=0;M<=v;++M){var I=d+4+M*t;if(M==v||g[I>>f]==0){var U=I-P,L=a(P,U);b===void 0?b=L:(b+=String.fromCharCode(0),b+=L),P=I+t}}return re(d),b},toWireType:(d,v)=>{typeof v!="string"&&O(`Cannot pass non-string to C++ string type ${r}`);var g=l(v),b=Ke(4+g+t);return R[b>>2]=g>>f,s(v,b+4,g+t),d!==null&&d.push(re,b),b},argPackAdvance:K,readValueFromPointer:Le,destructorFunction(d){re(d)}})},mn=(e,t,r,a,s,u)=>{Te[e]={name:V(t),rawConstructor:X(r,a),rawDestructor:X(s,u),fields:[]}},yn=(e,t,r,a,s,u,l,f,d,v)=>{Te[e].fields.push({fieldName:V(t),getterReturnType:r,getter:X(a,s),getterContext:u,setterArgumentType:l,setter:X(f,d),setterContext:v})},gn=(e,t)=>{t=V(t),Q(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,a)=>{}})},wn={},$n=e=>{var t=wn[e];return t===void 0?V(e):t},Ft=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},bn=e=>e===0?ne.toHandle(Ft()):(e=$n(e),ne.toHandle(Ft()[e])),Cn=e=>{e>4&&(J.get(e).refcount+=1)},_n=e=>{var t=new Array(e+1);return function(r,a,s){t[0]=r;for(var u=0;u<e;++u){var l=Je(R[a+u*4>>2],"parameter "+u);t[u+1]=l.readValueFromPointer(s),s+=l.argPackAdvance}var f=new(r.bind.apply(r,t));return ne.toHandle(f)}},kt={},Pn=(e,t,r,a)=>{e=ne.toValue(e);var s=kt[t];return s||(s=_n(t),kt[t]=s),s(e,r,a)},Tn=(e,t)=>{e=Je(e,"_emval_take_value");var r=e.readValueFromPointer(t);return ne.toHandle(r)},Sn=()=>{ve("")},An=(e,t,r)=>z.copyWithin(e,t,t+r),En=()=>2147483648,On=e=>{var t=N.buffer,r=(e-t.byteLength+65535)/65536;try{return N.grow(r),ot(),1}catch{}},Dn=e=>{var t=z.length;e>>>=0;var r=En();if(e>r)return!1;for(var a=(d,v)=>d+(v-d%v)%v,s=1;s<=4;s*=2){var u=t*(1+.2/s);u=Math.min(u,e+100663296);var l=Math.min(r,a(Math.max(e,u),65536)),f=On(l);if(f)return!0}return!1},Qe={},Mn=()=>C||"./this.program",$e=()=>{if(!$e.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Mn()};for(var r in Qe)Qe[r]===void 0?delete t[r]:t[r]=Qe[r];var a=[];for(var r in t)a.push(`${r}=${t[r]}`);$e.strings=a}return $e.strings},Rn=(e,t)=>{for(var r=0;r<e.length;++r)B[t++>>0]=e.charCodeAt(r);B[t>>0]=0},xn=(e,t)=>{var r=0;return $e().forEach((a,s)=>{var u=t+r;R[e+s*4>>2]=u,Rn(a,u),r+=a.length+1}),0},Fn=(e,t)=>{var r=$e();R[e>>2]=r.length;var a=0;return r.forEach(s=>a+=s.length+1),R[t>>2]=a,0},kn=e=>e,xe=e=>e%4===0&&(e%100!==0||e%400===0),jn=(e,t)=>{for(var r=0,a=0;a<=t;r+=e[a++]);return r},jt=[31,29,31,30,31,30,31,31,30,31,30,31],Wt=[31,28,31,30,31,30,31,31,30,31,30,31],Wn=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var a=xe(r.getFullYear()),s=r.getMonth(),u=(a?jt:Wt)[s];if(t>u-r.getDate())t-=u-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r};function In(e,t,r){var a=r>0?r:Mt(e)+1,s=new Array(a),u=Dt(e,s,0,s.length);return t&&(s.length=u),s}var Un=(e,t)=>{B.set(e,t)},Ln=(e,t,r,a)=>{var s=R[a+40>>2],u={tm_sec:Y[a>>2],tm_min:Y[a+4>>2],tm_hour:Y[a+8>>2],tm_mday:Y[a+12>>2],tm_mon:Y[a+16>>2],tm_year:Y[a+20>>2],tm_wday:Y[a+24>>2],tm_yday:Y[a+28>>2],tm_isdst:Y[a+32>>2],tm_gmtoff:Y[a+36>>2],tm_zone:s?Xe(s):""},l=Xe(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var d in f)l=l.replace(new RegExp(d,"g"),f[d]);var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];function b(p,_,H){for(var q=typeof p=="number"?p.toString():p||"";q.length<_;)q=H[0]+q;return q}function P(p,_){return b(p,_,"0")}function M(p,_){function H(de){return de<0?-1:de>0?1:0}var q;return(q=H(p.getFullYear()-_.getFullYear()))===0&&(q=H(p.getMonth()-_.getMonth()))===0&&(q=H(p.getDate()-_.getDate())),q}function I(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function U(p){var _=Wn(new Date(p.tm_year+1900,0,1),p.tm_yday),H=new Date(_.getFullYear(),0,4),q=new Date(_.getFullYear()+1,0,4),de=I(H),Yt=I(q);return M(de,_)<=0?M(Yt,_)<=0?_.getFullYear()+1:_.getFullYear():_.getFullYear()-1}var L={"%a":p=>v[p.tm_wday].substring(0,3),"%A":p=>v[p.tm_wday],"%b":p=>g[p.tm_mon].substring(0,3),"%B":p=>g[p.tm_mon],"%C":p=>{var _=p.tm_year+1900;return P(_/100|0,2)},"%d":p=>P(p.tm_mday,2),"%e":p=>b(p.tm_mday,2," "),"%g":p=>U(p).toString().substring(2),"%G":p=>U(p),"%H":p=>P(p.tm_hour,2),"%I":p=>{var _=p.tm_hour;return _==0?_=12:_>12&&(_-=12),P(_,2)},"%j":p=>P(p.tm_mday+jn(xe(p.tm_year+1900)?jt:Wt,p.tm_mon-1),3),"%m":p=>P(p.tm_mon+1,2),"%M":p=>P(p.tm_min,2),"%n":()=>`
`,"%p":p=>p.tm_hour>=0&&p.tm_hour<12?"AM":"PM","%S":p=>P(p.tm_sec,2),"%t":()=>"	","%u":p=>p.tm_wday||7,"%U":p=>{var _=p.tm_yday+7-p.tm_wday;return P(Math.floor(_/7),2)},"%V":p=>{var _=Math.floor((p.tm_yday+7-(p.tm_wday+6)%7)/7);if((p.tm_wday+371-p.tm_yday-2)%7<=2&&_++,_){if(_==53){var H=(p.tm_wday+371-p.tm_yday)%7;H!=4&&(H!=3||!xe(p.tm_year))&&(_=1)}}else{_=52;var q=(p.tm_wday+7-p.tm_yday-1)%7;(q==4||q==5&&xe(p.tm_year%400-1))&&_++}return P(_,2)},"%w":p=>p.tm_wday,"%W":p=>{var _=p.tm_yday+7-(p.tm_wday+6)%7;return P(Math.floor(_/7),2)},"%y":p=>(p.tm_year+1900).toString().substring(2),"%Y":p=>p.tm_year+1900,"%z":p=>{var _=p.tm_gmtoff,H=_>=0;return _=Math.abs(_)/60,_=_/60*100+_%60,(H?"+":"-")+("0000"+_).slice(-4)},"%Z":p=>p.tm_zone,"%%":()=>"%"};l=l.replace(/%%/g,"\0\0");for(var d in L)l.includes(d)&&(l=l.replace(new RegExp(d,"g"),L[d](u)));l=l.replace(/\0\0/g,"%");var y=In(l,!1);return y.length>t?0:(Un(y,e),y.length-1)},Hn=(e,t,r,a,s)=>Ln(e,t,r,a);pt=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},wr(),fe=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Mr(),Ar(),Ir(),Tt=o.UnboundTypeError=Vr(Error,"UnboundTypeError"),Gr(),qr();var Vn={s:ur,v:cr,b:fr,g:dr,m:hr,K:pr,e:vr,T:mr,d:lr,ba:yr,P:gr,Y:br,aa:Br,$:zr,x:Yr,X:Jr,y:Xr,j:Qr,M:en,D:tn,t:nn,p:an,L:un,C:vn,w:mn,ca:yn,Z:gn,fa:Ot,da:bn,N:Cn,W:Pn,_:Tn,B:Sn,V:An,U:Dn,R:xn,S:Fn,G:aa,H:na,n:ia,a:Bn,f:Nn,q:Zn,k:Gn,J:ta,u:ea,I:ra,A:sa,O:tt,l:qn,i:Jn,c:Yn,o:zn,E:Qn,ea:Xn,r:oa,h:Kn,z:ua,F:kn,Q:Hn},F=sr(),re=o._free=e=>(re=o._free=F.ia)(e),Ke=o._malloc=e=>(Ke=o._malloc=F.ja)(e),It=e=>(It=F.la)(e);o.__embind_initialize_bindings=()=>(o.__embind_initialize_bindings=F.ma)();var x=(e,t)=>(x=F.na)(e,t),be=e=>(be=F.oa)(e),j=()=>(j=F.pa)(),W=e=>(W=F.qa)(e),Ut=e=>(Ut=F.ra)(e),Lt=e=>(Lt=F.sa)(e),Ht=(e,t,r)=>(Ht=F.ta)(e,t,r),Vt=e=>(Vt=F.ua)(e);o.dynCall_viijii=(e,t,r,a,s,u,l)=>(o.dynCall_viijii=F.va)(e,t,r,a,s,u,l);var Bt=o.dynCall_jiiii=(e,t,r,a,s)=>(Bt=o.dynCall_jiiii=F.wa)(e,t,r,a,s);o.dynCall_iiiiij=(e,t,r,a,s,u,l)=>(o.dynCall_iiiiij=F.xa)(e,t,r,a,s,u,l),o.dynCall_iiiiijj=(e,t,r,a,s,u,l,f,d)=>(o.dynCall_iiiiijj=F.ya)(e,t,r,a,s,u,l,f,d),o.dynCall_iiiiiijj=(e,t,r,a,s,u,l,f,d,v)=>(o.dynCall_iiiiiijj=F.za)(e,t,r,a,s,u,l,f,d,v);function Bn(e,t){var r=j();try{return k(e)(t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function zn(e,t,r,a){var s=j();try{k(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function Yn(e,t,r){var a=j();try{k(e)(t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function Gn(e,t,r,a,s){var u=j();try{return k(e)(t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function Nn(e,t,r){var a=j();try{return k(e)(t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function qn(e){var t=j();try{k(e)()}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function Jn(e,t){var r=j();try{k(e)(t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function Zn(e,t,r,a){var s=j();try{return k(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function Xn(e,t,r,a,s,u){var l=j();try{k(e)(t,r,a,s,u)}catch(f){if(W(l),f!==f+0)throw f;x(1,0)}}function Qn(e,t,r,a,s){var u=j();try{k(e)(t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function Kn(e,t,r,a,s,u,l,f,d,v,g){var b=j();try{k(e)(t,r,a,s,u,l,f,d,v,g)}catch(P){if(W(b),P!==P+0)throw P;x(1,0)}}function ea(e,t,r,a,s,u,l){var f=j();try{return k(e)(t,r,a,s,u,l)}catch(d){if(W(f),d!==d+0)throw d;x(1,0)}}function ta(e,t,r,a,s,u){var l=j();try{return k(e)(t,r,a,s,u)}catch(f){if(W(l),f!==f+0)throw f;x(1,0)}}function ra(e,t,r,a,s,u,l,f){var d=j();try{return k(e)(t,r,a,s,u,l,f)}catch(v){if(W(d),v!==v+0)throw v;x(1,0)}}function na(e,t,r,a){var s=j();try{return k(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function aa(e,t,r,a){var s=j();try{return k(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function ia(e){var t=j();try{return k(e)()}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function oa(e,t,r,a,s,u,l,f){var d=j();try{k(e)(t,r,a,s,u,l,f)}catch(v){if(W(d),v!==v+0)throw v;x(1,0)}}function sa(e,t,r,a,s,u,l,f,d,v,g,b){var P=j();try{return k(e)(t,r,a,s,u,l,f,d,v,g,b)}catch(M){if(W(P),M!==M+0)throw M;x(1,0)}}function ua(e,t,r,a,s,u,l,f,d,v,g,b,P,M,I,U){var L=j();try{k(e)(t,r,a,s,u,l,f,d,v,g,b,P,M,I,U)}catch(y){if(W(L),y!==y+0)throw y;x(1,0)}}function tt(e,t,r,a,s){var u=j();try{return Bt(e,t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}var et;pe=function e(){et||n(),et||(pe=e)};function n(){if(ae>0||(Zt(),ae>0))return;function e(){et||(et=!0,o.calledRun=!0,!Z&&(Xt(),h(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Qt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return n(),c.ready}})();const ca=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Ei(i){for(const[c,o]of ca)if(i===o)return c;return"unknown"}var zt;class Jt extends EventTarget{constructor(c={}){var o;super(),ti(this,zt,void 0);try{const h=(o=c==null?void 0:c.formats)==null?void 0:o.filter(m=>m!=="unknown");if((h==null?void 0:h.length)===0)throw new TypeError("Hint option provided, but is empty.");h==null||h.forEach(m=>{if(!va.includes(m))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${m}' is not a valid enum value of type BarcodeFormat.`)}),ri(this,zt,h??[]),Ti().then(m=>{this.dispatchEvent(new CustomEvent("load",{detail:m}))}).catch(m=>{this.dispatchEvent(new CustomEvent("error",{detail:m}))})}catch(h){throw ma(h,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return va.filter(c=>c!=="unknown")}async detect(c){try{const o=await ui(c);if(o===null)return[];let h;try{Ra(o)?h=await Si(o,{tryHarder:!0,formats:pa(this,zt).map(m=>ca.get(m))}):h=await Ai(o,{tryHarder:!0,formats:pa(this,zt).map(m=>ca.get(m))})}catch(m){throw console.error(m),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return h.map(m=>{const{topLeft:{x:$,y:C},topRight:{x:T,y:A},bottomLeft:{x:w,y:E},bottomRight:{x:D,y:S}}=m.position,G=Math.min($,T,w,D),N=Math.min(C,A,E,S),Z=Math.max($,T,w,D),ee=Math.max(C,A,E,S);return{boundingBox:new DOMRectReadOnly(G,N,Z-G,ee-N),rawValue:m.text,format:Ei(m.format),cornerPoints:[{x:$,y:C},{x:T,y:A},{x:D,y:S},{x:w,y:E}]}})}catch(o){throw ma(o,"Failed to execute 'detect' on 'BarcodeDetector'")}}}zt=new WeakMap;const ha=(i,c,o="error")=>{let h,m;const $=new Promise((C,T)=>{h=C,m=T,i.addEventListener(c,h),i.addEventListener(o,m)});return $.finally(()=>{i.removeEventListener(c,h),i.removeEventListener(o,m)}),$},$a=i=>new Promise(c=>setTimeout(c,i));class Oi extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class ja extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Di extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Mi extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let la;const ho=i=>{la=new Jt({formats:i})},po=async(i,{detectHandler:c,locateHandler:o,minDelay:h,formats:m})=>{la=new Jt({formats:m});const $=C=>async T=>{if(i.readyState>1){const{lastScanned:A,contentBefore:w,lastScanHadContent:E}=C;if(T-A<h)window.requestAnimationFrame($(C));else{const D=await la.detect(i),S=D.some(Z=>!w.includes(Z.rawValue));S&&c(D);const G=D.length>0;G&&o(D),!G&&E&&o(D);const N={lastScanned:T,lastScanHadContent:G,contentBefore:S?D.map(Z=>Z.rawValue):w};window.requestAnimationFrame($(N))}}};$({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())},Ri=async i=>{if(i.startsWith("http")&&i.includes(location.host)===!1)throw new Oi;const c=document.createElement("img");return c.src=i,await ha(c,"load"),c},vo=async(i,c=["qr_code"])=>await new Jt({formats:c}).detect(i),mo=async(i,c=["qr_code"])=>{const o=new Jt({formats:c}),h=await Ri(i);return await o.detect(h)};var Wa={},se={};Object.defineProperty(se,"__esModule",{value:!0});se.compactObject=La;se.deprecated=Hi;var xi=se.detectBrowser=Vi;se.disableLog=Ii;se.disableWarnings=Ui;se.extractVersion=Gt;se.filterStats=Bi;se.log=Li;se.walkStats=qt;se.wrapPeerConnectionEvent=Wi;function Fi(i,c,o){return c=ki(c),c in i?Object.defineProperty(i,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[c]=o,i}function ki(i){var c=ji(i,"string");return ke(c)==="symbol"?c:String(c)}function ji(i,c){if(ke(i)!=="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var h=o.call(i,c||"default");if(ke(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function ke(i){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ke(i)}var Ia=!0,Ua=!0;function Gt(i,c,o){var h=i.match(c);return h&&h.length>=o&&parseInt(h[o],10)}function Wi(i,c,o){if(i.RTCPeerConnection){var h=i.RTCPeerConnection.prototype,m=h.addEventListener;h.addEventListener=function(C,T){if(C!==c)return m.apply(this,arguments);var A=function(E){var D=o(E);D&&(T.handleEvent?T.handleEvent(D):T(D))};return this._eventMap=this._eventMap||{},this._eventMap[c]||(this._eventMap[c]=new Map),this._eventMap[c].set(T,A),m.apply(this,[C,A])};var $=h.removeEventListener;h.removeEventListener=function(C,T){if(C!==c||!this._eventMap||!this._eventMap[c])return $.apply(this,arguments);if(!this._eventMap[c].has(T))return $.apply(this,arguments);var A=this._eventMap[c].get(T);return this._eventMap[c].delete(T),this._eventMap[c].size===0&&delete this._eventMap[c],Object.keys(this._eventMap).length===0&&delete this._eventMap,$.apply(this,[C,A])},Object.defineProperty(h,"on"+c,{get:function(){return this["_on"+c]},set:function(T){this["_on"+c]&&(this.removeEventListener(c,this["_on"+c]),delete this["_on"+c]),T&&this.addEventListener(c,this["_on"+c]=T)},enumerable:!0,configurable:!0})}}function Ii(i){return typeof i!="boolean"?new Error("Argument type: "+ke(i)+". Please use a boolean."):(Ia=i,i?"adapter.js logging disabled":"adapter.js logging enabled")}function Ui(i){return typeof i!="boolean"?new Error("Argument type: "+ke(i)+". Please use a boolean."):(Ua=!i,"adapter.js deprecation warnings "+(i?"disabled":"enabled"))}function Li(){if((typeof window>"u"?"undefined":ke(window))==="object"){if(Ia)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Hi(i,c){Ua&&console.warn(i+" is deprecated, please use "+c+" instead.")}function Vi(i){var c={browser:null,version:null};if(typeof i>"u"||!i.navigator||!i.navigator.userAgent)return c.browser="Not a browser.",c;var o=i.navigator;if(o.mozGetUserMedia)c.browser="firefox",c.version=Gt(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||i.isSecureContext===!1&&i.webkitRTCPeerConnection)c.browser="chrome",c.version=Gt(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(i.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))c.browser="safari",c.version=Gt(o.userAgent,/AppleWebKit\/(\d+)\./,1),c.supportsUnifiedPlan=i.RTCRtpTransceiver&&"currentDirection"in i.RTCRtpTransceiver.prototype;else return c.browser="Not a supported browser.",c;return c}function ba(i){return Object.prototype.toString.call(i)==="[object Object]"}function La(i){return ba(i)?Object.keys(i).reduce(function(c,o){var h=ba(i[o]),m=h?La(i[o]):i[o],$=h&&!Object.keys(m).length;return m===void 0||$?c:Object.assign(c,Fi({},o,m))},{}):i}function qt(i,c,o){!c||o.has(c.id)||(o.set(c.id,c),Object.keys(c).forEach(function(h){h.endsWith("Id")?qt(i,i.get(c[h]),o):h.endsWith("Ids")&&c[h].forEach(function(m){qt(i,i.get(m),o)})}))}function Bi(i,c,o){var h=o?"outbound-rtp":"inbound-rtp",m=new Map;if(c===null)return m;var $=[];return i.forEach(function(C){C.type==="track"&&C.trackIdentifier===c.id&&$.push(C)}),$.forEach(function(C){i.forEach(function(T){T.type===h&&T.trackId===C.id&&qt(i,T,m)})}),m}Object.defineProperty(Wa,"__esModule",{value:!0});var zi=Wa.shimGetUserMedia=Ni,Yi=Gi(se);function Ha(i){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(Ha=function(m){return m?o:c})(i)}function Gi(i,c){if(!c&&i&&i.__esModule)return i;if(i===null||Fe(i)!=="object"&&typeof i!="function")return{default:i};var o=Ha(c);if(o&&o.has(i))return o.get(i);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in i)if($!=="default"&&Object.prototype.hasOwnProperty.call(i,$)){var C=m?Object.getOwnPropertyDescriptor(i,$):null;C&&(C.get||C.set)?Object.defineProperty(h,$,C):h[$]=i[$]}return h.default=i,o&&o.set(i,h),h}function Fe(i){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Fe(i)}var Ca=Yi.log;function Ni(i,c){var o=i&&i.navigator;if(o.mediaDevices){var h=function(w){if(Fe(w)!=="object"||w.mandatory||w.optional)return w;var E={};return Object.keys(w).forEach(function(D){if(!(D==="require"||D==="advanced"||D==="mediaSource")){var S=Fe(w[D])==="object"?w[D]:{ideal:w[D]};S.exact!==void 0&&typeof S.exact=="number"&&(S.min=S.max=S.exact);var G=function(ee,B){return ee?ee+B.charAt(0).toUpperCase()+B.slice(1):B==="deviceId"?"sourceId":B};if(S.ideal!==void 0){E.optional=E.optional||[];var N={};typeof S.ideal=="number"?(N[G("min",D)]=S.ideal,E.optional.push(N),N={},N[G("max",D)]=S.ideal,E.optional.push(N)):(N[G("",D)]=S.ideal,E.optional.push(N))}S.exact!==void 0&&typeof S.exact!="number"?(E.mandatory=E.mandatory||{},E.mandatory[G("",D)]=S.exact):["min","max"].forEach(function(Z){S[Z]!==void 0&&(E.mandatory=E.mandatory||{},E.mandatory[G(Z,D)]=S[Z])})}}),w.advanced&&(E.optional=(E.optional||[]).concat(w.advanced)),E},m=function(w,E){if(c.version>=61)return E(w);if(w=JSON.parse(JSON.stringify(w)),w&&Fe(w.audio)==="object"){var D=function(ee,B,z){B in ee&&!(z in ee)&&(ee[z]=ee[B],delete ee[B])};w=JSON.parse(JSON.stringify(w)),D(w.audio,"autoGainControl","googAutoGainControl"),D(w.audio,"noiseSuppression","googNoiseSuppression"),w.audio=h(w.audio)}if(w&&Fe(w.video)==="object"){var S=w.video.facingMode;S=S&&(Fe(S)==="object"?S:{ideal:S});var G=c.version<66;if(S&&(S.exact==="user"||S.exact==="environment"||S.ideal==="user"||S.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!G)){delete w.video.facingMode;var N;if(S.exact==="environment"||S.ideal==="environment"?N=["back","rear"]:(S.exact==="user"||S.ideal==="user")&&(N=["front"]),N)return o.mediaDevices.enumerateDevices().then(function(Z){Z=Z.filter(function(B){return B.kind==="videoinput"});var ee=Z.find(function(B){return N.some(function(z){return B.label.toLowerCase().includes(z)})});return!ee&&Z.length&&N.includes("back")&&(ee=Z[Z.length-1]),ee&&(w.video.deviceId=S.exact?{exact:ee.deviceId}:{ideal:ee.deviceId}),w.video=h(w.video),Ca("chrome: "+JSON.stringify(w)),E(w)})}w.video=h(w.video)}return Ca("chrome: "+JSON.stringify(w)),E(w)},$=function(w){return c.version>=64?w:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[w.name]||w.name,message:w.message,constraint:w.constraint||w.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},C=function(w,E,D){m(w,function(S){o.webkitGetUserMedia(S,E,function(G){D&&D($(G))})})};if(o.getUserMedia=C.bind(o),o.mediaDevices.getUserMedia){var T=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(A){return m(A,function(w){return T(w).then(function(E){if(w.audio&&!E.getAudioTracks().length||w.video&&!E.getVideoTracks().length)throw E.getTracks().forEach(function(D){D.stop()}),new DOMException("","NotFoundError");return E},function(E){return Promise.reject($(E))})})}}}}var Va={};Object.defineProperty(Va,"__esModule",{value:!0});var qi=Va.shimGetUserMedia=Xi,Ji=Zi(se);function Ba(i){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(Ba=function(m){return m?o:c})(i)}function Zi(i,c){if(!c&&i&&i.__esModule)return i;if(i===null||rt(i)!=="object"&&typeof i!="function")return{default:i};var o=Ba(c);if(o&&o.has(i))return o.get(i);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in i)if($!=="default"&&Object.prototype.hasOwnProperty.call(i,$)){var C=m?Object.getOwnPropertyDescriptor(i,$):null;C&&(C.get||C.set)?Object.defineProperty(h,$,C):h[$]=i[$]}return h.default=i,o&&o.set(i,h),h}function rt(i){"@babel/helpers - typeof";return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},rt(i)}function Xi(i,c){var o=i&&i.navigator,h=i&&i.MediaStreamTrack;if(o.getUserMedia=function(A,w,E){Ji.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(A).then(w,E)},!(c.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var m=function(w,E,D){E in w&&!(D in w)&&(w[D]=w[E],delete w[E])},$=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(A){return rt(A)==="object"&&rt(A.audio)==="object"&&(A=JSON.parse(JSON.stringify(A)),m(A.audio,"autoGainControl","mozAutoGainControl"),m(A.audio,"noiseSuppression","mozNoiseSuppression")),$(A)},h&&h.prototype.getSettings){var C=h.prototype.getSettings;h.prototype.getSettings=function(){var A=C.apply(this,arguments);return m(A,"mozAutoGainControl","autoGainControl"),m(A,"mozNoiseSuppression","noiseSuppression"),A}}if(h&&h.prototype.applyConstraints){var T=h.prototype.applyConstraints;h.prototype.applyConstraints=function(A){return this.kind==="audio"&&rt(A)==="object"&&(A=JSON.parse(JSON.stringify(A)),m(A,"autoGainControl","mozAutoGainControl"),m(A,"noiseSuppression","mozNoiseSuppression")),T.apply(this,[A])}}}}var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.shimAudioContext=so;Ce.shimCallbacksAPI=ro;Ce.shimConstraints=Ga;Ce.shimCreateOfferLegacy=oo;var Qi=Ce.shimGetUserMedia=no;Ce.shimLocalStreamsAPI=eo;Ce.shimRTCIceServerUrls=ao;Ce.shimRemoteStreamsAPI=to;Ce.shimTrackEventTransceiver=io;var za=Ki(se);function Ya(i){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(Ya=function(m){return m?o:c})(i)}function Ki(i,c){if(!c&&i&&i.__esModule)return i;if(i===null||je(i)!=="object"&&typeof i!="function")return{default:i};var o=Ya(c);if(o&&o.has(i))return o.get(i);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in i)if($!=="default"&&Object.prototype.hasOwnProperty.call(i,$)){var C=m?Object.getOwnPropertyDescriptor(i,$):null;C&&(C.get||C.set)?Object.defineProperty(h,$,C):h[$]=i[$]}return h.default=i,o&&o.set(i,h),h}function je(i){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},je(i)}function eo(i){if(!(je(i)!=="object"||!i.RTCPeerConnection)){if("getLocalStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in i.RTCPeerConnection.prototype)){var c=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addStream=function(h){var m=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(function($){return c.call(m,$,h)}),h.getVideoTracks().forEach(function($){return c.call(m,$,h)})},i.RTCPeerConnection.prototype.addTrack=function(h){for(var m=this,$=arguments.length,C=new Array($>1?$-1:0),T=1;T<$;T++)C[T-1]=arguments[T];return C&&C.forEach(function(A){m._localStreams?m._localStreams.includes(A)||m._localStreams.push(A):m._localStreams=[A]}),c.apply(this,arguments)}}"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(h){var m=this;this._localStreams||(this._localStreams=[]);var $=this._localStreams.indexOf(h);if($!==-1){this._localStreams.splice($,1);var C=h.getTracks();this.getSenders().forEach(function(T){C.includes(T.track)&&m.removeTrack(T)})}})}}function to(i){if(!(je(i)!=="object"||!i.RTCPeerConnection)&&("getRemoteStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in i.RTCPeerConnection.prototype))){Object.defineProperty(i.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(h){var m=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=h),this.addEventListener("track",this._onaddstreampoly=function($){$.streams.forEach(function(C){if(m._remoteStreams||(m._remoteStreams=[]),!m._remoteStreams.includes(C)){m._remoteStreams.push(C);var T=new Event("addstream");T.stream=C,m.dispatchEvent(T)}})})}});var c=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){var h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(function($){if(h._remoteStreams||(h._remoteStreams=[]),!(h._remoteStreams.indexOf($)>=0)){h._remoteStreams.push($);var C=new Event("addstream");C.stream=$,h.dispatchEvent(C)}})}),c.apply(h,arguments)}}}function ro(i){if(!(je(i)!=="object"||!i.RTCPeerConnection)){var c=i.RTCPeerConnection.prototype,o=c.createOffer,h=c.createAnswer,m=c.setLocalDescription,$=c.setRemoteDescription,C=c.addIceCandidate;c.createOffer=function(w,E){var D=arguments.length>=2?arguments[2]:arguments[0],S=o.apply(this,[D]);return E?(S.then(w,E),Promise.resolve()):S},c.createAnswer=function(w,E){var D=arguments.length>=2?arguments[2]:arguments[0],S=h.apply(this,[D]);return E?(S.then(w,E),Promise.resolve()):S};var T=function(w,E,D){var S=m.apply(this,[w]);return D?(S.then(E,D),Promise.resolve()):S};c.setLocalDescription=T,T=function(w,E,D){var S=$.apply(this,[w]);return D?(S.then(E,D),Promise.resolve()):S},c.setRemoteDescription=T,T=function(w,E,D){var S=C.apply(this,[w]);return D?(S.then(E,D),Promise.resolve()):S},c.addIceCandidate=T}}function no(i){var c=i&&i.navigator;if(c.mediaDevices&&c.mediaDevices.getUserMedia){var o=c.mediaDevices,h=o.getUserMedia.bind(o);c.mediaDevices.getUserMedia=function(m){return h(Ga(m))}}!c.getUserMedia&&c.mediaDevices&&c.mediaDevices.getUserMedia&&(c.getUserMedia=(function($,C,T){c.mediaDevices.getUserMedia($).then(C,T)}).bind(c))}function Ga(i){return i&&i.video!==void 0?Object.assign({},i,{video:za.compactObject(i.video)}):i}function ao(i){if(i.RTCPeerConnection){var c=i.RTCPeerConnection;i.RTCPeerConnection=function(h,m){if(h&&h.iceServers){for(var $=[],C=0;C<h.iceServers.length;C++){var T=h.iceServers[C];T.urls===void 0&&T.url?(za.deprecated("RTCIceServer.url","RTCIceServer.urls"),T=JSON.parse(JSON.stringify(T)),T.urls=T.url,delete T.url,$.push(T)):$.push(h.iceServers[C])}h.iceServers=$}return new c(h,m)},i.RTCPeerConnection.prototype=c.prototype,"generateCertificate"in c&&Object.defineProperty(i.RTCPeerConnection,"generateCertificate",{get:function(){return c.generateCertificate}})}}function io(i){je(i)==="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function oo(i){var c=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);var m=this.getTransceivers().find(function(C){return C.receiver.track.kind==="audio"});h.offerToReceiveAudio===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):h.offerToReceiveAudio===!0&&!m&&this.addTransceiver("audio",{direction:"recvonly"}),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);var $=this.getTransceivers().find(function(C){return C.receiver.track.kind==="video"});h.offerToReceiveVideo===!1&&$?$.direction==="sendrecv"?$.setDirection?$.setDirection("sendonly"):$.direction="sendonly":$.direction==="recvonly"&&($.setDirection?$.setDirection("inactive"):$.direction="inactive"):h.offerToReceiveVideo===!0&&!$&&this.addTransceiver("video",{direction:"recvonly"})}return c.apply(this,arguments)}}function so(i){je(i)!=="object"||i.AudioContext||(i.AudioContext=i.webkitAudioContext)}const uo=i=>{let c=!1,o;return(...h)=>(c||(o=i(h),c=!0),o)};function yo(i,c){if(i===!1)throw new Error(c??"assertion failure")}const co=uo(()=>{const i=xi(window);switch(i.browser){case"chrome":zi(window,i);break;case"firefox":qi(window,i);break;case"safari":Qi(window,i);break;default:throw new ja}});let nt=Promise.resolve({type:"stop",data:{}});async function _a(i,c,o){var T,A;if(window.isSecureContext!==!0)throw new Di;if(((T=navigator==null?void 0:navigator.mediaDevices)==null?void 0:T.getUserMedia)===void 0)throw new ja;co();const h=await navigator.mediaDevices.getUserMedia({audio:!1,video:c});i.srcObject!==void 0?i.srcObject=h:i.mozSrcObject!==void 0?i.mozSrcObject=h:window.URL.createObjectURL?i.src=window.URL.createObjectURL(h):window.webkitURL?i.src=window.webkitURL.createObjectURL(h):i.src=h.id,i.play(),await Promise.race([ha(i,"loadeddata"),$a(3e3).then(()=>{throw new Mi})]),await $a(500);const[m]=h.getVideoTracks(),$=((A=m==null?void 0:m.getCapabilities)==null?void 0:A.call(m))??{};let C=!1;return o&&$.torch&&(await m.applyConstraints({advanced:[{torch:!0}]}),C=!0),{type:"start",data:{videoEl:i,stream:h,capabilities:$,constraints:c,isTorchOn:C}}}async function go(i,{constraints:c,torch:o,restart:h=!1}){nt=nt.then($=>{if($.type==="start"){const{data:{videoEl:C,stream:T,constraints:A,isTorchOn:w}}=$;return!h&&i===C&&c===A&&o===w?$:Na(C,T,w).then(()=>_a(i,c,o))}return _a(i,c,o)});const m=await nt;if(m.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return m.data.capabilities}async function Na(i,c,o){i.src="",i.srcObject=null,i.load(),await ha(i,"error");for(const h of c.getTracks())o??await h.applyConstraints({advanced:[{torch:!1}]}),c.removeTrack(h),h.stop();return{type:"stop",data:{}}}async function wo(){if(nt=nt.then(c=>{if(c.type==="stop")return c;const{data:{videoEl:o,stream:h,isTorchOn:m}}=c;return Na(o,h,m)}),(await nt).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}export{fo as _,mo as a,yo as b,go as c,ho as d,po as k,vo as p,wo as s};

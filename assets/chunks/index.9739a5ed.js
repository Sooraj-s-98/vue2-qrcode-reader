import{d as ot,h as Se,p as lr,a8 as Xo,o as at,D as Zo,N as ea,B as ta,l as or,w as ar,c as $t,C as Xe,n as ra,a5 as na,a7 as oa,r as dr,_ as aa,a3 as Ze}from"./framework.830fc92d.js";const $i=ot({__name:"DemoWrapper",props:{component:Object},setup(n){const i=n,o=Se();return lr(()=>{i.component&&(o.value=Xo(i.component))}),(c,p)=>(at(),Zo(ea(o.value)))}});var pr=(n,i,o)=>{if(!i.has(n))throw TypeError("Cannot "+o)},ia=(n,i,o)=>(pr(n,i,"read from private field"),o?o.call(n):i.get(n)),sa=(n,i,o)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,o)},ua=(n,i,o,c)=>(pr(n,i,"write to private field"),c?c.call(n,o):i.set(n,o),o);function ca(n){if(fa(n))return{width:n.naturalWidth,height:n.naturalHeight};if(la(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(da(n))return{width:n.videoWidth,height:n.videoHeight};if(hr(n))return{width:n.width,height:n.height};if(pa(n))return{width:n.width,height:n.height};if(ha(n))return{width:n.width,height:n.height};if(ma(n))return{width:n.displayWidth,height:n.displayHeight};throw new Error("Unsupported image type")}function fa(n){try{return n instanceof HTMLImageElement}catch{return!1}}function la(n){try{return n instanceof SVGImageElement}catch{return!1}}function da(n){try{return n instanceof HTMLVideoElement}catch{return!1}}function hr(n){try{return n instanceof HTMLCanvasElement}catch{return!1}}function pa(n){try{return n instanceof ImageBitmap}catch{return!1}}function ha(n){try{return n instanceof OffscreenCanvas}catch{return!1}}function ma(n){try{return n instanceof VideoFrame}catch{return!1}}function va(n){try{return n instanceof Blob}catch{return!1}}function ya(n){try{return n instanceof ImageData}catch{return!1}}function ga(n,i){try{const o=new OffscreenCanvas(n,i);if(o.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return o;throw new Error("OffscreenCanvasRenderingContext2D is not supported")}catch{const o=document.createElement("canvas");return o.width=n,o.height=i,o}}function mr(n){const{width:i,height:o}=ca(n),c=ga(i,o),p=c.getContext("2d");p.drawImage(n,0,0);const d=p.getImageData(0,0,i,o);return hr(c)&&c.remove(),d}async function Ca(n){const i=await createImageBitmap(n);return mr(i)}async function _a(n){return va(n)?await Ca(n):ya(n)?n:mr(n)}const ir=n=>{let i;const o=new Set,c=(m,_)=>{const b=typeof m=="function"?m(i):m;if(!Object.is(b,i)){const v=i;i=_??typeof b!="object"?b:Object.assign({},i,b),o.forEach(S=>S(i,v))}},p=()=>i,d={setState:c,getState:p,subscribe:m=>(o.add(m),()=>o.delete(m)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}};return i=n(c,p,d),d},wa=n=>n?ir(n):ir,ba={locateFile:(n,i)=>{var o;const c=(o=n.match(new RegExp("(?<=_).+?(?=\\.wasm$)")))==null?void 0:o[0];return c?`https://cdn.jsdelivr.net/npm/@sec-ant/zxing-wasm@1.2.4/dist/${c}/${n}`:i+n}},xe=wa()(()=>({zxingModuleWeakMap:new WeakMap,zxingModuleOverrides:ba}));function vr(n,i=xe.getState().zxingModuleOverrides){const{zxingModuleWeakMap:o}=xe.getState(),c=o.get(n);if(c&&Object.is(i,xe.getState().zxingModuleOverrides))return c;{xe.setState({zxingModuleOverrides:i});const p=n(i);return o.set(n,p),p}}const sr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"],ce={tryHarder:!0,formats:[],maxNumberOfSymbols:1/0};async function Sa(n,{tryHarder:i=ce.tryHarder,formats:o=ce.formats,maxNumberOfSymbols:c=ce.maxNumberOfSymbols}=ce,p){const d=await vr(p,xe.getState().zxingModuleOverrides),{data:m,width:_,height:b,data:{byteLength:v}}=n,S=d._malloc(v);d.HEAP8.set(m,S);const P=d.readBarcodeFromPixmap(S,_,b,i,Pa(o),c);d._free(S);const C=[];for(let D=0;D<P.size();++D){const A=P.get(D);C.push({...A,format:$a(A.format)})}return C}function Pa(n){return n.join("|")}function $a(n){const i=ur(n);let o=0,c=sr.length-1;for(;o<=c;){const p=Math.floor((o+c)/2),d=sr[p],m=ur(d);if(m===i)return d;m<i?o=p+1:c=p-1}return"None"}function ur(n){return n.toLowerCase().replace(/_-\[\]/g,"")}var yr=(()=>{var n=import.meta.url;return function(i={}){var o=typeof i<"u"?i:{},c,p;o.ready=new Promise((e,t)=>{c=e,p=t});var d=Object.assign({},o),m="./this.program",_=typeof window=="object",b=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var v="";function S(e){return o.locateFile?o.locateFile(e,v):v+e}var P;(_||b)&&(b?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),n&&(v=n),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",b&&(P=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var C=o.printErr||console.error.bind(console);Object.assign(o,d),d=null,o.arguments&&o.arguments,o.thisProgram&&(m=o.thisProgram),o.quit&&o.quit;var D;o.wasmBinary&&(D=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&_e("no native wasm support detected");var A,F=!1;function B(e,t){e||_e(t)}var I,L,ee,de,H,V,ke,Ue;function Fe(){var e=A.buffer;o.HEAP8=I=new Int8Array(e),o.HEAP16=ee=new Int16Array(e),o.HEAP32=H=new Int32Array(e),o.HEAPU8=L=new Uint8Array(e),o.HEAPU16=de=new Uint16Array(e),o.HEAPU32=V=new Uint32Array(e),o.HEAPF32=ke=new Float32Array(e),o.HEAPF64=Ue=new Float64Array(e)}var Ce,$e=[],Ie=[],We=[];function ie(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)st(o.preRun.shift());ft($e)}function X(){ft(Ie)}function it(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)ct(o.postRun.shift());ft(We)}function st(e){$e.unshift(e)}function ut(e){Ie.unshift(e)}function ct(e){We.unshift(e)}var te=0,pe=null;function Rr(e){te++,o.monitorRunDependencies&&o.monitorRunDependencies(te)}function xr(e){if(te--,o.monitorRunDependencies&&o.monitorRunDependencies(te),te==0&&pe){var t=pe;pe=null,t()}}function _e(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",C(e),F=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw p(t),t}var kr="data:application/octet-stream;base64,";function Tt(e){return e.startsWith(kr)}var he;o.locateFile?(he="zxing_reader.wasm",Tt(he)||(he=S(he))):he=new URL("/reader/zxing_reader.wasm",self.location).href;function Ot(e){try{if(e==he&&D)return new Uint8Array(D);if(P)return P(e);throw"both async and sync fetching of the wasm failed"}catch(t){_e(t)}}function Ur(e){return!D&&(_||b)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Ot(e)):Promise.resolve().then(()=>Ot(e))}function Dt(e,t,r){return Ur(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{C("failed to asynchronously prepare wasm: "+a),_e(a)})}function Fr(e,t,r,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,r);return u.then(a,function(l){return C("wasm streaming compile failed: "+l),C("falling back to ArrayBuffer instantiation"),Dt(t,r,a)})}):Dt(t,r,a)}function Ir(){var e={a:Co};function t(a,s){var u=a.exports;return o.asm=u,A=o.asm.oa,Fe(),Ce=o.asm.sa,ut(o.asm.pa),xr(),u}Rr();function r(a){t(a.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(a){C("Module.instantiateWasm callback failed with error: "+a),p(a)}return Fr(D,he,e,r).catch(p),{}}function ft(e){for(;e.length>0;)e.shift()(o)}var je=[],Le=0;function Wr(e){var t=new He(e);return t.get_caught()||(t.set_caught(!0),Le--),t.set_rethrown(!1),je.push(t),Xt(t.excPtr),t.get_exception_ptr()}var re=0;function jr(){E(0);var e=je.pop();Kt(e.excPtr),re=0}function He(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){V[this.ptr+4>>2]=t},this.get_type=function(){return V[this.ptr+4>>2]},this.set_destructor=function(t){V[this.ptr+8>>2]=t},this.get_destructor=function(){return V[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,I[this.ptr+12>>0]=t},this.get_caught=function(){return I[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,I[this.ptr+13>>0]=t},this.get_rethrown=function(){return I[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){V[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return V[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=er(this.get_type());if(t)return V[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}function Lr(e){throw re||(re=e),re}function lt(){var e=re;if(!e)return Re(0),0;var t=new He(e);t.set_adjusted_ptr(e);var r=t.get_type();if(!r)return Re(0),e;for(var a=0;a<arguments.length;a++){var s=arguments[a];if(s===0||s===r)break;var u=t.ptr+16;if(Zt(s,r,u))return Re(s),e}return Re(r),e}var Hr=lt,Vr=lt,zr=lt;function Br(e){var t=new He(e).get_exception_ptr();return t}function Nr(){var e=je.pop();e||_e("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(je.push(e),e.set_rethrown(!0),e.set_caught(!1),Le++),re=t,re}function Gr(e,t,r){var a=new He(e);throw a.init(t,r),re=e,Le++,re}function qr(){return Le}var Ve={};function At(e){for(;e.length;){var t=e.pop(),r=e.pop();r(t)}}function Te(e){return this.fromWireType(H[e>>2])}var we={},me={},ze={},Yr=48,Jr=57;function Et(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Yr&&t<=Jr?`_${e}`:e}function Mt(e,t){return e=Et(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function dt(e,t){var r=Mt(t,function(a){this.name=t,this.message=a;var s=new Error(a).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var Rt=void 0;function Be(e){throw new Rt(e)}function ve(e,t,r){e.forEach(function(f){ze[f]=t});function a(f){var h=r(f);h.length!==e.length&&Be("Mismatched type converter count");for(var y=0;y<e.length;++y)ne(e[y],h[y])}var s=new Array(t.length),u=[],l=0;t.forEach((f,h)=>{me.hasOwnProperty(f)?s[h]=me[f]:(u.push(f),we.hasOwnProperty(f)||(we[f]=[]),we[f].push(()=>{s[h]=me[f],++l,l===u.length&&a(s)}))}),u.length===0&&a(s)}function Qr(e){var t=Ve[e];delete Ve[e];var r=t.rawConstructor,a=t.rawDestructor,s=t.fields,u=s.map(l=>l.getterReturnType).concat(s.map(l=>l.setterArgumentType));ve([e],u,l=>{var f={};return s.forEach((h,y)=>{var w=h.fieldName,T=l[y],O=h.getter,x=h.getterContext,W=l[y+s.length],G=h.setter,j=h.setterContext;f[w]={read:q=>T.fromWireType(O(x,q)),write:(q,g)=>{var $=[];G(j,q,W.toWireType($,g)),At($)}}}),[{name:t.name,fromWireType:function(h){var y={};for(var w in f)y[w]=f[w].read(h);return a(h),y},toWireType:function(h,y){for(var w in f)if(!(w in y))throw new TypeError(`Missing field: "${w}"`);var T=r();for(w in f)f[w].write(T,y[w]);return h!==null&&h.push(a,T),T},argPackAdvance:8,readValueFromPointer:Te,destructorFunction:a}]})}function Kr(e,t,r,a,s){}function pt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Xr(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);xt=e}var xt=void 0;function Y(e){for(var t="",r=e;L[r];)t+=xt[L[r++]];return t}var be=void 0;function k(e){throw new be(e)}function ne(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var a=t.name;if(e||k(`type "${a}" must have a positive integer typeid pointer`),me.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;k(`Cannot register type '${a}' twice`)}if(me[e]=t,delete ze[e],we.hasOwnProperty(e)){var s=we[e];delete we[e],s.forEach(u=>u())}}function Zr(e,t,r,a,s){var u=pt(r);t=Y(t),ne(e,{name:t,fromWireType:function(l){return!!l},toWireType:function(l,f){return f?a:s},argPackAdvance:8,readValueFromPointer:function(l){var f;if(r===1)f=I;else if(r===2)f=ee;else if(r===4)f=H;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(f[l>>u])},destructorFunction:null})}function en(e){if(!(this instanceof se)||!(e instanceof se))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,a=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;a.baseClass;)s=a.upcast(s),a=a.baseClass;return t===a&&r===s}function tn(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function ht(e){function t(r){return r.$$.ptrType.registeredClass.name}k(t(e)+" instance already deleted")}var mt=!1;function kt(e){}function rn(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Ut(e){e.count.value-=1;var t=e.count.value===0;t&&rn(e)}function Ft(e,t,r){if(t===r)return e;if(r.baseClass===void 0)return null;var a=Ft(e,t,r.baseClass);return a===null?null:r.downcast(a)}var It={};function nn(){return Object.keys(Ae).length}function on(){var e=[];for(var t in Ae)Ae.hasOwnProperty(t)&&e.push(Ae[t]);return e}var Oe=[];function vt(){for(;Oe.length;){var e=Oe.pop();e.$$.deleteScheduled=!1,e.delete()}}var De=void 0;function an(e){De=e,Oe.length&&De&&De(vt)}function sn(){o.getInheritedInstanceCount=nn,o.getLiveInheritedInstances=on,o.flushPendingDeletes=vt,o.setDelayFunction=an}var Ae={};function un(e,t){for(t===void 0&&k("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function cn(e,t){return t=un(e,t),Ae[t]}function Ne(e,t){(!t.ptrType||!t.ptr)&&Be("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,a=!!t.smartPtr;return r!==a&&Be("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ee(Object.create(e,{$$:{value:t}}))}function fn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=cn(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var a=r.clone();return this.destructor(e),a}function s(){return this.isSmartPointer?Ne(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ne(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),l=It[u];if(!l)return s.call(this);var f;this.isConst?f=l.constPointerType:f=l.pointerType;var h=Ft(t,this.registeredClass,f.registeredClass);return h===null?s.call(this):this.isSmartPointer?Ne(f.registeredClass.instancePrototype,{ptrType:f,ptr:h,smartPtrType:this,smartPtr:e}):Ne(f.registeredClass.instancePrototype,{ptrType:f,ptr:h})}function Ee(e){return typeof FinalizationRegistry>"u"?(Ee=t=>t,e):(mt=new FinalizationRegistry(t=>{Ut(t.$$)}),Ee=t=>{var r=t.$$,a=!!r.smartPtr;if(a){var s={$$:r};mt.register(t,s,t)}return t},kt=t=>mt.unregister(t),Ee(e))}function ln(){if(this.$$.ptr||ht(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Ee(Object.create(Object.getPrototypeOf(this),{$$:{value:tn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function dn(){this.$$.ptr||ht(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&k("Object already scheduled for deletion"),kt(this),Ut(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function pn(){return!this.$$.ptr}function hn(){return this.$$.ptr||ht(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&k("Object already scheduled for deletion"),Oe.push(this),Oe.length===1&&De&&De(vt),this.$$.deleteScheduled=!0,this}function mn(){se.prototype.isAliasOf=en,se.prototype.clone=ln,se.prototype.delete=dn,se.prototype.isDeleted=pn,se.prototype.deleteLater=hn}function se(){}function Wt(e,t,r){if(e[t].overloadTable===void 0){var a=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||k(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[a.argCount]=a}}function jt(e,t,r){o.hasOwnProperty(e)?((r===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[r]!==void 0)&&k(`Cannot register public name '${e}' twice`),Wt(o,e,e),o.hasOwnProperty(r)&&k(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,r!==void 0&&(o[e].numArguments=r))}function vn(e,t,r,a,s,u,l,f){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=a,this.baseClass=s,this.getActualType=u,this.upcast=l,this.downcast=f,this.pureVirtualFunctions=[]}function yt(e,t,r){for(;t!==r;)t.upcast||k(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e}function yn(e,t){if(t===null)return this.isReference&&k(`null is not a valid ${this.name}`),0;t.$$||k(`Cannot pass "${_t(t)}" as a ${this.name}`),t.$$.ptr||k(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=yt(t.$$.ptr,r,this.registeredClass);return a}function gn(e,t){var r;if(t===null)return this.isReference&&k(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||k(`Cannot pass "${_t(t)}" as a ${this.name}`),t.$$.ptr||k(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&k(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var a=t.$$.ptrType.registeredClass;if(r=yt(t.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&k("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:k(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,Ye.toHandle(function(){s.delete()})),e!==null&&e.push(this.rawDestructor,r)}break;default:k("Unsupporting sharing policy")}return r}function Cn(e,t){if(t===null)return this.isReference&&k(`null is not a valid ${this.name}`),0;t.$$||k(`Cannot pass "${_t(t)}" as a ${this.name}`),t.$$.ptr||k(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&k(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=yt(t.$$.ptr,r,this.registeredClass);return a}function _n(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function wn(e){this.rawDestructor&&this.rawDestructor(e)}function bn(e){e!==null&&e.delete()}function Sn(){oe.prototype.getPointee=_n,oe.prototype.destructor=wn,oe.prototype.argPackAdvance=8,oe.prototype.readValueFromPointer=Te,oe.prototype.deleteObject=bn,oe.prototype.fromWireType=fn}function oe(e,t,r,a,s,u,l,f,h,y,w){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=a,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=l,this.rawGetPointee=f,this.rawConstructor=h,this.rawShare=y,this.rawDestructor=w,!s&&t.baseClass===void 0?a?(this.toWireType=yn,this.destructorFunction=null):(this.toWireType=Cn,this.destructorFunction=null):this.toWireType=gn}function Lt(e,t,r){o.hasOwnProperty(e)||Be("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&r!==void 0?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Pn(e,t,r){var a=o["dynCall_"+e];return r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)}var Ge=[];function U(e){var t=Ge[e];return t||(e>=Ge.length&&(Ge.length=e+1),Ge[e]=t=Ce.get(e)),t}function $n(e,t,r){if(e.includes("j"))return Pn(e,t,r);var a=U(t).apply(null,r);return a}function Tn(e,t){var r=[];return function(){return r.length=0,Object.assign(r,arguments),$n(e,t,r)}}function K(e,t){e=Y(e);function r(){return e.includes("j")?Tn(e,t):U(t)}var a=r();return typeof a!="function"&&k(`unknown function pointer with signature ${e}: ${t}`),a}var Ht=void 0;function Vt(e){var t=Qt(e),r=Y(t);return ae(t),r}function qe(e,t){var r=[],a={};function s(u){if(!a[u]&&!me[u]){if(ze[u]){ze[u].forEach(s);return}r.push(u),a[u]=!0}}throw t.forEach(s),new Ht(`${e}: `+r.map(Vt).join([", "]))}function On(e,t,r,a,s,u,l,f,h,y,w,T,O){w=Y(w),u=K(s,u),f&&(f=K(l,f)),y&&(y=K(h,y)),O=K(T,O);var x=Et(w);jt(x,function(){qe(`Cannot construct ${w} due to unbound types`,[a])}),ve([e,t,r],a?[a]:[],function(W){W=W[0];var G,j;a?(G=W.registeredClass,j=G.instancePrototype):j=se.prototype;var q=Mt(x,function(){if(Object.getPrototypeOf(this)!==g)throw new be("Use 'new' to construct "+w);if($.constructor_body===void 0)throw new be(w+" has no accessible constructor");var Ke=$.constructor_body[arguments.length];if(Ke===void 0)throw new be(`Tried to invoke ctor of ${w} with invalid number of parameters (${arguments.length}) - expected (${Object.keys($.constructor_body).toString()}) parameters instead!`);return Ke.apply(this,arguments)}),g=Object.create(j,{constructor:{value:q}});q.prototype=g;var $=new vn(w,q,g,O,G,u,f,y);$.baseClass&&($.baseClass.__derivedClasses===void 0&&($.baseClass.__derivedClasses=[]),$.baseClass.__derivedClasses.push($));var z=new oe(w,$,!0,!1,!1),N=new oe(w+"*",$,!1,!1,!1),ye=new oe(w+" const*",$,!1,!0,!1);return It[e]={pointerType:N,constPointerType:ye},Lt(x,q),[z,N,ye]})}function gt(e,t){for(var r=[],a=0;a<e;a++)r.push(V[t+a*4>>2]);return r}function Ct(e,t,r,a,s,u){var l=t.length;l<2&&k("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=t[1]!==null&&r!==null,h=!1,y=1;y<t.length;++y)if(t[y]!==null&&t[y].destructorFunction===void 0){h=!0;break}var w=t[0].name!=="void",T=l-2,O=new Array(T),x=[],W=[];return function(){arguments.length!==T&&k(`function ${e} called with ${arguments.length} arguments, expected ${T} args!`),W.length=0;var G;x.length=f?2:1,x[0]=s,f&&(G=t[1].toWireType(W,this),x[1]=G);for(var j=0;j<T;++j)O[j]=t[j+2].toWireType(W,arguments[j]),x.push(O[j]);var q=a.apply(null,x);function g($){if(h)At(W);else for(var z=f?1:2;z<t.length;z++){var N=z===1?G:O[z-2];t[z].destructorFunction!==null&&t[z].destructorFunction(N)}if(w)return t[0].fromWireType($)}return g(q)}}function Dn(e,t,r,a,s,u){B(t>0);var l=gt(t,r);s=K(a,s),ve([],[e],function(f){f=f[0];var h=`constructor ${f.name}`;if(f.registeredClass.constructor_body===void 0&&(f.registeredClass.constructor_body=[]),f.registeredClass.constructor_body[t-1]!==void 0)throw new be(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${f.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return f.registeredClass.constructor_body[t-1]=()=>{qe(`Cannot construct ${f.name} due to unbound types`,l)},ve([],l,function(y){return y.splice(1,0,null),f.registeredClass.constructor_body[t-1]=Ct(h,y,null,s,u),[]}),[]})}function An(e,t,r,a,s,u,l,f,h){var y=gt(r,a);t=Y(t),u=K(s,u),ve([],[e],function(w){w=w[0];var T=`${w.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&w.registeredClass.pureVirtualFunctions.push(t);function O(){qe(`Cannot call ${T} due to unbound types`,y)}var x=w.registeredClass.instancePrototype,W=x[t];return W===void 0||W.overloadTable===void 0&&W.className!==w.name&&W.argCount===r-2?(O.argCount=r-2,O.className=w.name,x[t]=O):(Wt(x,t,T),x[t].overloadTable[r-2]=O),ve([],y,function(G){var j=Ct(T,G,w,u,l);return x[t].overloadTable===void 0?(j.argCount=r-2,x[t]=j):x[t].overloadTable[r-2]=j,[]}),[]})}function En(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.has=function(e){return this.allocated[e]!==void 0},this.allocate=function(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}}var Q=new En;function zt(e){e>=Q.reserved&&--Q.get(e).refcount===0&&Q.free(e)}function Mn(){for(var e=0,t=Q.reserved;t<Q.allocated.length;++t)Q.allocated[t]!==void 0&&++e;return e}function Rn(){Q.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Q.reserved=Q.allocated.length,o.count_emval_handles=Mn}var Ye={toValue:e=>(e||k("Cannot use deleted val. handle = "+e),Q.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Q.allocate({refcount:1,value:e})}}};function xn(e,t){t=Y(t),ne(e,{name:t,fromWireType:function(r){var a=Ye.toValue(r);return zt(r),a},toWireType:function(r,a){return Ye.toHandle(a)},argPackAdvance:8,readValueFromPointer:Te,destructorFunction:null})}function _t(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function kn(e,t){switch(t){case 2:return function(r){return this.fromWireType(ke[r>>2])};case 3:return function(r){return this.fromWireType(Ue[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Un(e,t,r){var a=pt(r);t=Y(t),ne(e,{name:t,fromWireType:function(s){return s},toWireType:function(s,u){return u},argPackAdvance:8,readValueFromPointer:kn(t,a),destructorFunction:null})}function Fn(e,t,r,a,s,u,l){var f=gt(t,r);e=Y(e),s=K(a,s),jt(e,function(){qe(`Cannot call ${e} due to unbound types`,f)},t-1),ve([],f,function(h){var y=[h[0],null].concat(h.slice(1));return Lt(e,Ct(e,y,null,s,u),t-1),[]})}function In(e,t,r){switch(t){case 0:return r?function(a){return I[a]}:function(a){return L[a]};case 1:return r?function(a){return ee[a>>1]}:function(a){return de[a>>1]};case 2:return r?function(a){return H[a>>2]}:function(a){return V[a>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Wn(e,t,r,a,s){t=Y(t);var u=pt(r),l=T=>T;if(a===0){var f=32-8*r;l=T=>T<<f>>>f}var h=t.includes("unsigned"),y=(T,O)=>{},w;h?w=function(T,O){return y(O,this.name),O>>>0}:w=function(T,O){return y(O,this.name),O},ne(e,{name:t,fromWireType:l,toWireType:w,argPackAdvance:8,readValueFromPointer:In(t,u,a!==0),destructorFunction:null})}function jn(e,t,r){var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=a[t];function u(l){l=l>>2;var f=V,h=f[l],y=f[l+1];return new s(f.buffer,y,h)}r=Y(r),ne(e,{name:r,fromWireType:u,argPackAdvance:8,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})}function Bt(e,t,r,a){if(!(a>0))return 0;for(var s=r,u=r+a-1,l=0;l<e.length;++l){var f=e.charCodeAt(l);if(f>=55296&&f<=57343){var h=e.charCodeAt(++l);f=65536+((f&1023)<<10)|h&1023}if(f<=127){if(r>=u)break;t[r++]=f}else if(f<=2047){if(r+1>=u)break;t[r++]=192|f>>6,t[r++]=128|f&63}else if(f<=65535){if(r+2>=u)break;t[r++]=224|f>>12,t[r++]=128|f>>6&63,t[r++]=128|f&63}else{if(r+3>=u)break;t[r++]=240|f>>18,t[r++]=128|f>>12&63,t[r++]=128|f>>6&63,t[r++]=128|f&63}}return t[r]=0,r-s}function Ln(e,t,r){return Bt(e,L,t,r)}function Nt(e){for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a<=127?t++:a<=2047?t+=2:a>=55296&&a<=57343?(t+=4,++r):t+=3}return t}var Gt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Hn(e,t,r){for(var a=t+r,s=t;e[s]&&!(s>=a);)++s;if(s-t>16&&e.buffer&&Gt)return Gt.decode(e.subarray(t,s));for(var u="";t<s;){var l=e[t++];if(!(l&128)){u+=String.fromCharCode(l);continue}var f=e[t++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|f);continue}var h=e[t++]&63;if((l&240)==224?l=(l&15)<<12|f<<6|h:l=(l&7)<<18|f<<12|h<<6|e[t++]&63,l<65536)u+=String.fromCharCode(l);else{var y=l-65536;u+=String.fromCharCode(55296|y>>10,56320|y&1023)}}return u}function wt(e,t){return e?Hn(L,e,t):""}function Vn(e,t){t=Y(t);var r=t==="std::string";ne(e,{name:t,fromWireType:function(a){var s=V[a>>2],u=a+4,l;if(r)for(var f=u,h=0;h<=s;++h){var y=u+h;if(h==s||L[y]==0){var w=y-f,T=wt(f,w);l===void 0?l=T:(l+=String.fromCharCode(0),l+=T),f=y+1}}else{for(var O=new Array(s),h=0;h<s;++h)O[h]=String.fromCharCode(L[u+h]);l=O.join("")}return ae(a),l},toWireType:function(a,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||k("Cannot pass non-string to std::string"),r&&l?u=Nt(s):u=s.length;var f=St(4+u+1),h=f+4;if(V[f>>2]=u,r&&l)Ln(s,h,u+1);else if(l)for(var y=0;y<u;++y){var w=s.charCodeAt(y);w>255&&(ae(h),k("String has UTF-16 code units that do not fit in 8 bits")),L[h+y]=w}else for(var y=0;y<u;++y)L[h+y]=s[y];return a!==null&&a.push(ae,f),f},argPackAdvance:8,readValueFromPointer:Te,destructorFunction:function(a){ae(a)}})}var qt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function zn(e,t){for(var r=e,a=r>>1,s=a+t/2;!(a>=s)&&de[a];)++a;if(r=a<<1,r-e>32&&qt)return qt.decode(L.subarray(e,r));for(var u="",l=0;!(l>=t/2);++l){var f=ee[e+l*2>>1];if(f==0)break;u+=String.fromCharCode(f)}return u}function Bn(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var a=t,s=r<e.length*2?r/2:e.length,u=0;u<s;++u){var l=e.charCodeAt(u);ee[t>>1]=l,t+=2}return ee[t>>1]=0,t-a}function Nn(e){return e.length*2}function Gn(e,t){for(var r=0,a="";!(r>=t/4);){var s=H[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|u&1023)}else a+=String.fromCharCode(s)}return a}function qn(e,t,r){if(r===void 0&&(r=2147483647),r<4)return 0;for(var a=t,s=a+r-4,u=0;u<e.length;++u){var l=e.charCodeAt(u);if(l>=55296&&l<=57343){var f=e.charCodeAt(++u);l=65536+((l&1023)<<10)|f&1023}if(H[t>>2]=l,t+=4,t+4>s)break}return H[t>>2]=0,t-a}function Yn(e){for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=55296&&a<=57343&&++r,t+=4}return t}function Jn(e,t,r){r=Y(r);var a,s,u,l,f;t===2?(a=zn,s=Bn,l=Nn,u=()=>de,f=1):t===4&&(a=Gn,s=qn,l=Yn,u=()=>V,f=2),ne(e,{name:r,fromWireType:function(h){for(var y=V[h>>2],w=u(),T,O=h+4,x=0;x<=y;++x){var W=h+4+x*t;if(x==y||w[W>>f]==0){var G=W-O,j=a(O,G);T===void 0?T=j:(T+=String.fromCharCode(0),T+=j),O=W+t}}return ae(h),T},toWireType:function(h,y){typeof y!="string"&&k(`Cannot pass non-string to C++ string type ${r}`);var w=l(y),T=St(4+w+t);return V[T>>2]=w>>f,s(y,T+4,w+t),h!==null&&h.push(ae,T),T},argPackAdvance:8,readValueFromPointer:Te,destructorFunction:function(h){ae(h)}})}function Qn(e,t,r,a,s,u){Ve[e]={name:Y(t),rawConstructor:K(r,a),rawDestructor:K(s,u),fields:[]}}function Kn(e,t,r,a,s,u,l,f,h,y){Ve[e].fields.push({fieldName:Y(t),getterReturnType:r,getter:K(a,s),getterContext:u,setterArgumentType:l,setter:K(f,h),setterContext:y})}function Xn(e,t){t=Y(t),ne(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(r,a){}})}function Zn(e){e>4&&(Q.get(e).refcount+=1)}function eo(e,t){var r=me[e];return r===void 0&&k(t+" has unknown type "+Vt(e)),r}function to(e,t){e=eo(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Ye.toHandle(r)}function ro(){_e("")}function no(e,t,r){L.copyWithin(e,t,t+r)}function oo(){return 2147483648}function ao(e){var t=A.buffer,r=e-t.byteLength+65535>>>16;try{return A.grow(r),Fe(),1}catch{}}function io(e){var t=L.length;e=e>>>0;var r=oo();if(e>r)return!1;for(var a=(h,y)=>h+(y-h%y)%y,s=1;s<=4;s*=2){var u=t*(1+.2/s);u=Math.min(u,e+100663296);var l=Math.min(r,a(Math.max(e,u),65536)),f=ao(l);if(f)return!0}return!1}var bt={};function so(){return m||"./this.program"}function Me(){if(!Me.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:so()};for(var r in bt)bt[r]===void 0?delete t[r]:t[r]=bt[r];var a=[];for(var r in t)a.push(`${r}=${t[r]}`);Me.strings=a}return Me.strings}function uo(e,t){for(var r=0;r<e.length;++r)I[t++>>0]=e.charCodeAt(r);I[t>>0]=0}function co(e,t){var r=0;return Me().forEach(function(a,s){var u=t+r;V[e+s*4>>2]=u,uo(a,u),r+=a.length+1}),0}function fo(e,t){var r=Me();V[e>>2]=r.length;var a=0;return r.forEach(function(s){a+=s.length+1}),V[t>>2]=a,0}function lo(e){return e}function Je(e){return e%4===0&&(e%100!==0||e%400===0)}function po(e,t){for(var r=0,a=0;a<=t;r+=e[a++]);return r}var Yt=[31,29,31,30,31,30,31,31,30,31,30,31],Jt=[31,28,31,30,31,30,31,31,30,31,30,31];function ho(e,t){for(var r=new Date(e.getTime());t>0;){var a=Je(r.getFullYear()),s=r.getMonth(),u=(a?Yt:Jt)[s];if(t>u-r.getDate())t-=u-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r}function mo(e,t,r){var a=r>0?r:Nt(e)+1,s=new Array(a),u=Bt(e,s,0,s.length);return t&&(s.length=u),s}function vo(e,t){I.set(e,t)}function yo(e,t,r,a){var s=H[a+40>>2],u={tm_sec:H[a>>2],tm_min:H[a+4>>2],tm_hour:H[a+8>>2],tm_mday:H[a+12>>2],tm_mon:H[a+16>>2],tm_year:H[a+20>>2],tm_wday:H[a+24>>2],tm_yday:H[a+28>>2],tm_isdst:H[a+32>>2],tm_gmtoff:H[a+36>>2],tm_zone:s?wt(s):""},l=wt(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var h in f)l=l.replace(new RegExp(h,"g"),f[h]);var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function T(g,$,z){for(var N=typeof g=="number"?g.toString():g||"";N.length<$;)N=z[0]+N;return N}function O(g,$){return T(g,$,"0")}function x(g,$){function z(ye){return ye<0?-1:ye>0?1:0}var N;return(N=z(g.getFullYear()-$.getFullYear()))===0&&(N=z(g.getMonth()-$.getMonth()))===0&&(N=z(g.getDate()-$.getDate())),N}function W(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function G(g){var $=ho(new Date(g.tm_year+1900,0,1),g.tm_yday),z=new Date($.getFullYear(),0,4),N=new Date($.getFullYear()+1,0,4),ye=W(z),Ke=W(N);return x(ye,$)<=0?x(Ke,$)<=0?$.getFullYear()+1:$.getFullYear():$.getFullYear()-1}var j={"%a":function(g){return y[g.tm_wday].substring(0,3)},"%A":function(g){return y[g.tm_wday]},"%b":function(g){return w[g.tm_mon].substring(0,3)},"%B":function(g){return w[g.tm_mon]},"%C":function(g){var $=g.tm_year+1900;return O($/100|0,2)},"%d":function(g){return O(g.tm_mday,2)},"%e":function(g){return T(g.tm_mday,2," ")},"%g":function(g){return G(g).toString().substring(2)},"%G":function(g){return G(g)},"%H":function(g){return O(g.tm_hour,2)},"%I":function(g){var $=g.tm_hour;return $==0?$=12:$>12&&($-=12),O($,2)},"%j":function(g){return O(g.tm_mday+po(Je(g.tm_year+1900)?Yt:Jt,g.tm_mon-1),3)},"%m":function(g){return O(g.tm_mon+1,2)},"%M":function(g){return O(g.tm_min,2)},"%n":function(){return`
`},"%p":function(g){return g.tm_hour>=0&&g.tm_hour<12?"AM":"PM"},"%S":function(g){return O(g.tm_sec,2)},"%t":function(){return"	"},"%u":function(g){return g.tm_wday||7},"%U":function(g){var $=g.tm_yday+7-g.tm_wday;return O(Math.floor($/7),2)},"%V":function(g){var $=Math.floor((g.tm_yday+7-(g.tm_wday+6)%7)/7);if((g.tm_wday+371-g.tm_yday-2)%7<=2&&$++,$){if($==53){var z=(g.tm_wday+371-g.tm_yday)%7;z!=4&&(z!=3||!Je(g.tm_year))&&($=1)}}else{$=52;var N=(g.tm_wday+7-g.tm_yday-1)%7;(N==4||N==5&&Je(g.tm_year%400-1))&&$++}return O($,2)},"%w":function(g){return g.tm_wday},"%W":function(g){var $=g.tm_yday+7-(g.tm_wday+6)%7;return O(Math.floor($/7),2)},"%y":function(g){return(g.tm_year+1900).toString().substring(2)},"%Y":function(g){return g.tm_year+1900},"%z":function(g){var $=g.tm_gmtoff,z=$>=0;return $=Math.abs($)/60,$=$/60*100+$%60,(z?"+":"-")+("0000"+$).slice(-4)},"%Z":function(g){return g.tm_zone},"%%":function(){return"%"}};l=l.replace(/%%/g,"\0\0");for(var h in j)l.includes(h)&&(l=l.replace(new RegExp(h,"g"),j[h](u)));l=l.replace(/\0\0/g,"%");var q=mo(l,!1);return q.length>t?0:(vo(q,e),q.length-1)}function go(e,t,r,a,s){return yo(e,t,r,a)}Rt=o.InternalError=dt(Error,"InternalError"),Xr(),be=o.BindingError=dt(Error,"BindingError"),mn(),sn(),Sn(),Ht=o.UnboundTypeError=dt(Error,"UnboundTypeError"),Rn();var Co={q:Wr,v:jr,a:Hr,h:Vr,l:zr,J:Br,S:Nr,n:Gr,_:qr,d:Lr,ma:Qr,V:Kr,ca:Zr,la:On,ka:Dn,F:An,ba:xn,R:Un,T:Fn,y:Wn,t:jn,Q:Vn,L:Jn,O:Qn,na:Kn,da:Xn,ha:zt,ia:Zn,ja:to,K:ro,aa:no,$:io,Y:co,Z:fo,B:Wo,P:qo,E:jo,p:Uo,b:_o,w:Io,fa:Ho,c:Po,i:Eo,j:xo,r:Mo,z:Fo,x:ko,I:zo,N:Bo,D:Lo,H:Yo,W:Qo,U:Ko,k:$o,g:So,e:bo,f:wo,M:Go,m:Ro,o:To,ga:Do,u:Ao,ea:No,A:Vo,s:Oo,G:Jo,C:lo,X:go};Ir();var ae=o._free=function(){return(ae=o._free=o.asm.qa).apply(null,arguments)},St=o._malloc=function(){return(St=o._malloc=o.asm.ra).apply(null,arguments)},Qt=function(){return(Qt=o.asm.ta).apply(null,arguments)};o.__embind_initialize_bindings=function(){return(o.__embind_initialize_bindings=o.asm.ua).apply(null,arguments)};var E=function(){return(E=o.asm.va).apply(null,arguments)},Re=function(){return(Re=o.asm.wa).apply(null,arguments)},M=function(){return(M=o.asm.xa).apply(null,arguments)},R=function(){return(R=o.asm.ya).apply(null,arguments)},Kt=function(){return(Kt=o.asm.za).apply(null,arguments)},Xt=function(){return(Xt=o.asm.Aa).apply(null,arguments)},Zt=function(){return(Zt=o.asm.Ba).apply(null,arguments)},er=function(){return(er=o.asm.Ca).apply(null,arguments)};o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.Da).apply(null,arguments)};var tr=o.dynCall_jiii=function(){return(tr=o.dynCall_jiii=o.asm.Ea).apply(null,arguments)},rr=o.dynCall_jiiii=function(){return(rr=o.dynCall_jiiii=o.asm.Fa).apply(null,arguments)};o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.Ga).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.Ha).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.Ia).apply(null,arguments)};function _o(e,t){var r=M();try{return U(e)(t)}catch(a){if(R(r),a!==a+0)throw a;E(1,0)}}function wo(e,t,r,a){var s=M();try{U(e)(t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function bo(e,t,r){var a=M();try{U(e)(t,r)}catch(s){if(R(a),s!==s+0)throw s;E(1,0)}}function So(e,t){var r=M();try{U(e)(t)}catch(a){if(R(r),a!==a+0)throw a;E(1,0)}}function Po(e,t,r){var a=M();try{return U(e)(t,r)}catch(s){if(R(a),s!==s+0)throw s;E(1,0)}}function $o(e){var t=M();try{U(e)()}catch(r){if(R(t),r!==r+0)throw r;E(1,0)}}function To(e,t,r,a,s,u){var l=M();try{U(e)(t,r,a,s,u)}catch(f){if(R(l),f!==f+0)throw f;E(1,0)}}function Oo(e,t,r,a,s,u,l,f,h,y,w){var T=M();try{U(e)(t,r,a,s,u,l,f,h,y,w)}catch(O){if(R(T),O!==O+0)throw O;E(1,0)}}function Do(e,t,r,a,s,u,l){var f=M();try{U(e)(t,r,a,s,u,l)}catch(h){if(R(f),h!==h+0)throw h;E(1,0)}}function Ao(e,t,r,a,s,u,l,f){var h=M();try{U(e)(t,r,a,s,u,l,f)}catch(y){if(R(h),y!==y+0)throw y;E(1,0)}}function Eo(e,t,r,a){var s=M();try{return U(e)(t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function Mo(e,t,r,a,s,u){var l=M();try{return U(e)(t,r,a,s,u)}catch(f){if(R(l),f!==f+0)throw f;E(1,0)}}function Ro(e,t,r,a,s){var u=M();try{U(e)(t,r,a,s)}catch(l){if(R(u),l!==l+0)throw l;E(1,0)}}function xo(e,t,r,a,s){var u=M();try{return U(e)(t,r,a,s)}catch(l){if(R(u),l!==l+0)throw l;E(1,0)}}function ko(e,t,r,a,s,u,l){var f=M();try{return U(e)(t,r,a,s,u,l)}catch(h){if(R(f),h!==h+0)throw h;E(1,0)}}function Uo(e){var t=M();try{return U(e)()}catch(r){if(R(t),r!==r+0)throw r;E(1,0)}}function Fo(e,t,r,a,s,u,l){var f=M();try{return U(e)(t,r,a,s,u,l)}catch(h){if(R(f),h!==h+0)throw h;E(1,0)}}function Io(e,t,r,a){var s=M();try{return U(e)(t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function Wo(e,t,r,a){var s=M();try{return U(e)(t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function jo(e,t,r,a,s,u){var l=M();try{return U(e)(t,r,a,s,u)}catch(f){if(R(l),f!==f+0)throw f;E(1,0)}}function Lo(e,t,r,a,s,u,l,f,h,y){var w=M();try{return U(e)(t,r,a,s,u,l,f,h,y)}catch(T){if(R(w),T!==T+0)throw T;E(1,0)}}function Ho(e,t,r){var a=M();try{return U(e)(t,r)}catch(s){if(R(a),s!==s+0)throw s;E(1,0)}}function Vo(e,t,r,a,s,u,l,f,h,y){var w=M();try{U(e)(t,r,a,s,u,l,f,h,y)}catch(T){if(R(w),T!==T+0)throw T;E(1,0)}}function zo(e,t,r,a,s,u,l,f){var h=M();try{return U(e)(t,r,a,s,u,l,f)}catch(y){if(R(h),y!==y+0)throw y;E(1,0)}}function Bo(e,t,r,a,s,u,l,f,h){var y=M();try{return U(e)(t,r,a,s,u,l,f,h)}catch(w){if(R(y),w!==w+0)throw w;E(1,0)}}function No(e,t,r,a,s,u,l,f,h){var y=M();try{U(e)(t,r,a,s,u,l,f,h)}catch(w){if(R(y),w!==w+0)throw w;E(1,0)}}function Go(e,t,r,a,s,u,l){var f=M();try{U(e)(t,r,a,s,u,l)}catch(h){if(R(f),h!==h+0)throw h;E(1,0)}}function qo(e,t,r,a){var s=M();try{return U(e)(t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function Yo(e,t,r,a,s,u,l,f,h,y,w,T){var O=M();try{return U(e)(t,r,a,s,u,l,f,h,y,w,T)}catch(x){if(R(O),x!==x+0)throw x;E(1,0)}}function Jo(e,t,r,a,s,u,l,f,h,y,w,T,O,x,W,G){var j=M();try{U(e)(t,r,a,s,u,l,f,h,y,w,T,O,x,W,G)}catch(q){if(R(j),q!==q+0)throw q;E(1,0)}}function Qo(e,t,r,a){var s=M();try{return tr(e,t,r,a)}catch(u){if(R(s),u!==u+0)throw u;E(1,0)}}function Ko(e,t,r,a,s){var u=M();try{return rr(e,t,r,a,s)}catch(l){if(R(u),l!==l+0)throw l;E(1,0)}}var Qe;pe=function e(){Qe||nr(),Qe||(pe=e)};function nr(){if(te>0||(ie(),te>0))return;function e(){Qe||(Qe=!0,o.calledRun=!0,!F&&(X(),c(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),it()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return nr(),i.ready}})();function Ta(n){return vr(yr,n)}async function Oa(n,{tryHarder:i=ce.tryHarder,formats:o=ce.formats,maxNumberOfSymbols:c=ce.maxNumberOfSymbols}=ce){return Sa(n,{tryHarder:i,formats:o,maxNumberOfSymbols:c},yr)}const Da=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"],gr=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Aa(n){for(const[i,o]of gr)if(n===o)return i;return"unknown"}var et;class Ea{constructor(i={}){sa(this,et,void 0),Ta(),ua(this,et,(i==null?void 0:i.formats)??[])}static async getSupportedFormats(){return Da}async detect(i){const o=await _a(i);return o.width===0||o.height===0?[]:(await Oa(o,{tryHarder:!0,formats:ia(this,et).map(c=>gr.get(c))})).map(c=>{const{topLeft:{x:p,y:d},topRight:{x:m,y:_},bottomLeft:{x:b,y:v},bottomRight:{x:S,y:P}}=c.position,C=Math.min(p,m,b,S),D=Math.min(d,_,v,P),A=Math.max(p,m,b,S),F=Math.max(d,_,v,P);return{boundingBox:new DOMRectReadOnly(C,D,A-C,F-D),rawValue:c.text,format:Aa(c.format),cornerPoints:[{x:p,y:d},{x:m,y:_},{x:S,y:P},{x:b,y:v}]}})}}et=new WeakMap;globalThis.BarcodeDetector??(globalThis.BarcodeDetector=Ea);const Cr=(n,i,o="error")=>{let c,p;const d=new Promise((m,_)=>{c=m,p=_,n.addEventListener(i,c),n.addEventListener(o,p)});return d.finally(()=>{n.removeEventListener(i,c),n.removeEventListener(o,p)}),d},Ma=n=>new Promise(i=>setTimeout(i,n));class Ra extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class _r extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class xa extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}const ka=async(n,{detectHandler:i,locateHandler:o,minDelay:c})=>{const p=new BarcodeDetector({formats:["qr_code"]}),d=m=>async _=>{if(n.readyState>1){const{lastScanned:b,contentBefore:v,lastScanHadContent:S}=m;if(_-b<c)window.requestAnimationFrame(d(m));else{const P=await p.detect(n),C=P.some(F=>!v.includes(F.rawValue));C&&i(P);const D=P.length>0;D&&o(P),!D&&S&&o(P);const A={lastScanned:_,lastScanHadContent:D,contentBefore:C?P.map(F=>F.rawValue):v};window.requestAnimationFrame(d(A))}}};d({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())},Ua=async n=>{if(n.startsWith("http")&&n.includes(location.host)===!1)throw new Ra;const i=document.createElement("img");return i.src=n,await Cr(i,"load"),i},wr=async n=>await new BarcodeDetector({formats:["qr_code"]}).detect(n),Fa=async n=>{const i=new BarcodeDetector({formats:["qr_code"]}),o=await Ua(n);return await i.detect(o)};var br={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.compactObject=$r;J.deprecated=Na;var Ia=J.detectBrowser=Ga;J.disableLog=Va;J.disableWarnings=za;J.extractVersion=tt;J.filterStats=qa;J.log=Ba;J.walkStats=rt;J.wrapPeerConnectionEvent=Ha;function Wa(n,i,o){return i=ja(i),i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}function ja(n){var i=La(n,"string");return fe(i)==="symbol"?i:String(i)}function La(n,i){if(fe(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var c=o.call(n,i||"default");if(fe(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}function fe(n){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},fe(n)}var Sr=!0,Pr=!0;function tt(n,i,o){var c=n.match(i);return c&&c.length>=o&&parseInt(c[o],10)}function Ha(n,i,o){if(n.RTCPeerConnection){var c=n.RTCPeerConnection.prototype,p=c.addEventListener;c.addEventListener=function(m,_){if(m!==i)return p.apply(this,arguments);var b=function(S){var P=o(S);P&&(_.handleEvent?_.handleEvent(P):_(P))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(_,b),p.apply(this,[m,b])};var d=c.removeEventListener;c.removeEventListener=function(m,_){if(m!==i||!this._eventMap||!this._eventMap[i])return d.apply(this,arguments);if(!this._eventMap[i].has(_))return d.apply(this,arguments);var b=this._eventMap[i].get(_);return this._eventMap[i].delete(_),this._eventMap[i].size===0&&delete this._eventMap[i],Object.keys(this._eventMap).length===0&&delete this._eventMap,d.apply(this,[m,b])},Object.defineProperty(c,"on"+i,{get:function(){return this["_on"+i]},set:function(_){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),_&&this.addEventListener(i,this["_on"+i]=_)},enumerable:!0,configurable:!0})}}function Va(n){return typeof n!="boolean"?new Error("Argument type: "+fe(n)+". Please use a boolean."):(Sr=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function za(n){return typeof n!="boolean"?new Error("Argument type: "+fe(n)+". Please use a boolean."):(Pr=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Ba(){if((typeof window>"u"?"undefined":fe(window))==="object"){if(Sr)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Na(n,i){Pr&&console.warn(n+" is deprecated, please use "+i+" instead.")}function Ga(n){var i={browser:null,version:null};if(typeof n>"u"||!n.navigator)return i.browser="Not a browser.",i;var o=n.navigator;if(o.mozGetUserMedia)i.browser="firefox",i.version=tt(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)i.browser="chrome",i.version=tt(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))i.browser="safari",i.version=tt(o.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return i.browser="Not a supported browser.",i;return i}function cr(n){return Object.prototype.toString.call(n)==="[object Object]"}function $r(n){return cr(n)?Object.keys(n).reduce(function(i,o){var c=cr(n[o]),p=c?$r(n[o]):n[o],d=c&&!Object.keys(p).length;return p===void 0||d?i:Object.assign(i,Wa({},o,p))},{}):n}function rt(n,i,o){!i||o.has(i.id)||(o.set(i.id,i),Object.keys(i).forEach(function(c){c.endsWith("Id")?rt(n,n.get(i[c]),o):c.endsWith("Ids")&&i[c].forEach(function(p){rt(n,n.get(p),o)})}))}function qa(n,i,o){var c=o?"outbound-rtp":"inbound-rtp",p=new Map;if(i===null)return p;var d=[];return n.forEach(function(m){m.type==="track"&&m.trackIdentifier===i.id&&d.push(m)}),d.forEach(function(m){n.forEach(function(_){_.type===c&&_.trackId===m.id&&rt(n,_,p)})}),p}Object.defineProperty(br,"__esModule",{value:!0});var Ya=br.shimGetUserMedia=Ka,Ja=Qa(J);function Tr(n){if(typeof WeakMap!="function")return null;var i=new WeakMap,o=new WeakMap;return(Tr=function(p){return p?o:i})(n)}function Qa(n,i){if(!i&&n&&n.__esModule)return n;if(n===null||ue(n)!=="object"&&typeof n!="function")return{default:n};var o=Tr(i);if(o&&o.has(n))return o.get(n);var c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var m=p?Object.getOwnPropertyDescriptor(n,d):null;m&&(m.get||m.set)?Object.defineProperty(c,d,m):c[d]=n[d]}return c.default=n,o&&o.set(n,c),c}function ue(n){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ue(n)}var fr=Ja.log;function Ka(n,i){var o=n&&n.navigator;if(o.mediaDevices){var c=function(v){if(ue(v)!=="object"||v.mandatory||v.optional)return v;var S={};return Object.keys(v).forEach(function(P){if(!(P==="require"||P==="advanced"||P==="mediaSource")){var C=ue(v[P])==="object"?v[P]:{ideal:v[P]};C.exact!==void 0&&typeof C.exact=="number"&&(C.min=C.max=C.exact);var D=function(B,I){return B?B+I.charAt(0).toUpperCase()+I.slice(1):I==="deviceId"?"sourceId":I};if(C.ideal!==void 0){S.optional=S.optional||[];var A={};typeof C.ideal=="number"?(A[D("min",P)]=C.ideal,S.optional.push(A),A={},A[D("max",P)]=C.ideal,S.optional.push(A)):(A[D("",P)]=C.ideal,S.optional.push(A))}C.exact!==void 0&&typeof C.exact!="number"?(S.mandatory=S.mandatory||{},S.mandatory[D("",P)]=C.exact):["min","max"].forEach(function(F){C[F]!==void 0&&(S.mandatory=S.mandatory||{},S.mandatory[D(F,P)]=C[F])})}}),v.advanced&&(S.optional=(S.optional||[]).concat(v.advanced)),S},p=function(v,S){if(i.version>=61)return S(v);if(v=JSON.parse(JSON.stringify(v)),v&&ue(v.audio)==="object"){var P=function(B,I,L){I in B&&!(L in B)&&(B[L]=B[I],delete B[I])};v=JSON.parse(JSON.stringify(v)),P(v.audio,"autoGainControl","googAutoGainControl"),P(v.audio,"noiseSuppression","googNoiseSuppression"),v.audio=c(v.audio)}if(v&&ue(v.video)==="object"){var C=v.video.facingMode;C=C&&(ue(C)==="object"?C:{ideal:C});var D=i.version<66;if(C&&(C.exact==="user"||C.exact==="environment"||C.ideal==="user"||C.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!D)){delete v.video.facingMode;var A;if(C.exact==="environment"||C.ideal==="environment"?A=["back","rear"]:(C.exact==="user"||C.ideal==="user")&&(A=["front"]),A)return o.mediaDevices.enumerateDevices().then(function(F){F=F.filter(function(I){return I.kind==="videoinput"});var B=F.find(function(I){return A.some(function(L){return I.label.toLowerCase().includes(L)})});return!B&&F.length&&A.includes("back")&&(B=F[F.length-1]),B&&(v.video.deviceId=C.exact?{exact:B.deviceId}:{ideal:B.deviceId}),v.video=c(v.video),fr("chrome: "+JSON.stringify(v)),S(v)})}v.video=c(v.video)}return fr("chrome: "+JSON.stringify(v)),S(v)},d=function(v){return i.version>=64?v:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[v.name]||v.name,message:v.message,constraint:v.constraint||v.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},m=function(v,S,P){p(v,function(C){o.webkitGetUserMedia(C,S,function(D){P&&P(d(D))})})};if(o.getUserMedia=m.bind(o),o.mediaDevices.getUserMedia){var _=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(b){return p(b,function(v){return _(v).then(function(S){if(v.audio&&!S.getAudioTracks().length||v.video&&!S.getVideoTracks().length)throw S.getTracks().forEach(function(P){P.stop()}),new DOMException("","NotFoundError");return S},function(S){return Promise.reject(d(S))})})}}}}var Or={};Object.defineProperty(Or,"__esModule",{value:!0});var Xa=Or.shimGetUserMedia=ti,Za=ei(J);function Dr(n){if(typeof WeakMap!="function")return null;var i=new WeakMap,o=new WeakMap;return(Dr=function(p){return p?o:i})(n)}function ei(n,i){if(!i&&n&&n.__esModule)return n;if(n===null||Pe(n)!=="object"&&typeof n!="function")return{default:n};var o=Dr(i);if(o&&o.has(n))return o.get(n);var c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var m=p?Object.getOwnPropertyDescriptor(n,d):null;m&&(m.get||m.set)?Object.defineProperty(c,d,m):c[d]=n[d]}return c.default=n,o&&o.set(n,c),c}function Pe(n){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Pe(n)}function ti(n,i){var o=n&&n.navigator,c=n&&n.MediaStreamTrack;if(o.getUserMedia=function(b,v,S){Za.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(b).then(v,S)},!(i.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var p=function(v,S,P){S in v&&!(P in v)&&(v[P]=v[S],delete v[S])},d=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(b){return Pe(b)==="object"&&Pe(b.audio)==="object"&&(b=JSON.parse(JSON.stringify(b)),p(b.audio,"autoGainControl","mozAutoGainControl"),p(b.audio,"noiseSuppression","mozNoiseSuppression")),d(b)},c&&c.prototype.getSettings){var m=c.prototype.getSettings;c.prototype.getSettings=function(){var b=m.apply(this,arguments);return p(b,"mozAutoGainControl","autoGainControl"),p(b,"mozNoiseSuppression","noiseSuppression"),b}}if(c&&c.prototype.applyConstraints){var _=c.prototype.applyConstraints;c.prototype.applyConstraints=function(b){return this.kind==="audio"&&Pe(b)==="object"&&(b=JSON.parse(JSON.stringify(b)),p(b,"autoGainControl","mozAutoGainControl"),p(b,"noiseSuppression","mozNoiseSuppression")),_.apply(this,[b])}}}}var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.shimAudioContext=li;Z.shimCallbacksAPI=ii;Z.shimConstraints=Mr;Z.shimCreateOfferLegacy=fi;var ri=Z.shimGetUserMedia=si;Z.shimLocalStreamsAPI=oi;Z.shimRTCIceServerUrls=ui;Z.shimRemoteStreamsAPI=ai;Z.shimTrackEventTransceiver=ci;var Ar=ni(J);function Er(n){if(typeof WeakMap!="function")return null;var i=new WeakMap,o=new WeakMap;return(Er=function(p){return p?o:i})(n)}function ni(n,i){if(!i&&n&&n.__esModule)return n;if(n===null||le(n)!=="object"&&typeof n!="function")return{default:n};var o=Er(i);if(o&&o.has(n))return o.get(n);var c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var m=p?Object.getOwnPropertyDescriptor(n,d):null;m&&(m.get||m.set)?Object.defineProperty(c,d,m):c[d]=n[d]}return c.default=n,o&&o.set(n,c),c}function le(n){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},le(n)}function oi(n){if(!(le(n)!=="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){var i=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(c){var p=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(c)||this._localStreams.push(c),c.getAudioTracks().forEach(function(d){return i.call(p,d,c)}),c.getVideoTracks().forEach(function(d){return i.call(p,d,c)})},n.RTCPeerConnection.prototype.addTrack=function(c){for(var p=this,d=arguments.length,m=new Array(d>1?d-1:0),_=1;_<d;_++)m[_-1]=arguments[_];return m&&m.forEach(function(b){p._localStreams?p._localStreams.includes(b)||p._localStreams.push(b):p._localStreams=[b]}),i.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(c){var p=this;this._localStreams||(this._localStreams=[]);var d=this._localStreams.indexOf(c);if(d!==-1){this._localStreams.splice(d,1);var m=c.getTracks();this.getSenders().forEach(function(_){m.includes(_.track)&&p.removeTrack(_)})}})}}function ai(n){if(!(le(n)!=="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(c){var p=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=c),this.addEventListener("track",this._onaddstreampoly=function(d){d.streams.forEach(function(m){if(p._remoteStreams||(p._remoteStreams=[]),!p._remoteStreams.includes(m)){p._remoteStreams.push(m);var _=new Event("addstream");_.stream=m,p.dispatchEvent(_)}})})}});var i=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var c=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(p){p.streams.forEach(function(d){if(c._remoteStreams||(c._remoteStreams=[]),!(c._remoteStreams.indexOf(d)>=0)){c._remoteStreams.push(d);var m=new Event("addstream");m.stream=d,c.dispatchEvent(m)}})}),i.apply(c,arguments)}}}function ii(n){if(!(le(n)!=="object"||!n.RTCPeerConnection)){var i=n.RTCPeerConnection.prototype,o=i.createOffer,c=i.createAnswer,p=i.setLocalDescription,d=i.setRemoteDescription,m=i.addIceCandidate;i.createOffer=function(v,S){var P=arguments.length>=2?arguments[2]:arguments[0],C=o.apply(this,[P]);return S?(C.then(v,S),Promise.resolve()):C},i.createAnswer=function(v,S){var P=arguments.length>=2?arguments[2]:arguments[0],C=c.apply(this,[P]);return S?(C.then(v,S),Promise.resolve()):C};var _=function(v,S,P){var C=p.apply(this,[v]);return P?(C.then(S,P),Promise.resolve()):C};i.setLocalDescription=_,_=function(v,S,P){var C=d.apply(this,[v]);return P?(C.then(S,P),Promise.resolve()):C},i.setRemoteDescription=_,_=function(v,S,P){var C=m.apply(this,[v]);return P?(C.then(S,P),Promise.resolve()):C},i.addIceCandidate=_}}function si(n){var i=n&&n.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){var o=i.mediaDevices,c=o.getUserMedia.bind(o);i.mediaDevices.getUserMedia=function(p){return c(Mr(p))}}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(d,m,_){i.mediaDevices.getUserMedia(d).then(m,_)}.bind(i))}function Mr(n){return n&&n.video!==void 0?Object.assign({},n,{video:Ar.compactObject(n.video)}):n}function ui(n){if(n.RTCPeerConnection){var i=n.RTCPeerConnection;n.RTCPeerConnection=function(c,p){if(c&&c.iceServers){for(var d=[],m=0;m<c.iceServers.length;m++){var _=c.iceServers[m];_.urls===void 0&&_.url?(Ar.deprecated("RTCIceServer.url","RTCIceServer.urls"),_=JSON.parse(JSON.stringify(_)),_.urls=_.url,delete _.url,d.push(_)):d.push(c.iceServers[m])}c.iceServers=d}return new i(c,p)},n.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:function(){return i.generateCertificate}})}}function ci(n){le(n)==="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function fi(n){var i=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(c){if(c){typeof c.offerToReceiveAudio<"u"&&(c.offerToReceiveAudio=!!c.offerToReceiveAudio);var p=this.getTransceivers().find(function(m){return m.receiver.track.kind==="audio"});c.offerToReceiveAudio===!1&&p?p.direction==="sendrecv"?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":p.direction==="recvonly"&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):c.offerToReceiveAudio===!0&&!p&&this.addTransceiver("audio",{direction:"recvonly"}),typeof c.offerToReceiveVideo<"u"&&(c.offerToReceiveVideo=!!c.offerToReceiveVideo);var d=this.getTransceivers().find(function(m){return m.receiver.track.kind==="video"});c.offerToReceiveVideo===!1&&d?d.direction==="sendrecv"?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":d.direction==="recvonly"&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):c.offerToReceiveVideo===!0&&!d&&this.addTransceiver("video",{direction:"recvonly"})}return i.apply(this,arguments)}}function li(n){le(n)!=="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const di=n=>{let i=!1,o;return(...c)=>(i||(o=n(c),i=!0),o)},pi=di(()=>{const n=Ia(window);switch(n.browser){case"chrome":Ya(window,n);break;case"firefox":Xa(window,n);break;case"safari":ri(window,n);break;default:throw new _r}});let ge={isActive:!1};function Pt(){if(ge.isActive){ge.videoEl.srcObject=null;for(const n of ge.stream.getTracks())ge.stream.removeTrack(n),n.stop();ge={isActive:!1}}}async function hi(n,{constraints:i,torch:o}){var d,m;if(window.isSecureContext!==!0)throw new xa;if(((d=navigator==null?void 0:navigator.mediaDevices)==null?void 0:d.getUserMedia)===void 0)throw new _r;pi();const c=await navigator.mediaDevices.getUserMedia({audio:!1,video:i});if(n.srcObject!==void 0?n.srcObject=c:n.mozSrcObject!==void 0?n.mozSrcObject=c:window.URL.createObjectURL?n.src=window.URL.createObjectURL(c):window.webkitURL?n.src=window.webkitURL.createObjectURL(c):n.src=c.id,await Cr(n,"loadeddata"),await Ma(500),o){const[_]=c.getVideoTracks();_.getCapabilities().torch?_.applyConstraints({advanced:[{torch:!0}]}):console.warn("device does not support torch capability")}ge={videoEl:n,stream:c,isActive:!0};const[p]=ge.stream.getVideoTracks();return((m=p==null?void 0:p.getCapabilities)==null?void 0:m.call(p))??{}}const mi={class:"qrcode-stream-wrapper"},vi={class:"qrcode-stream-overlay"},yi=ot({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(n,{emit:i}){const o=n,c=Se(),p=Se(),d=Se(),m=Se(!1),_=Se(!1);lr(()=>{_.value=!0}),ta(()=>{Pt()});const b=or(()=>({torch:o.torch,constraints:o.constraints,shouldStream:_.value&&!o.paused}));ar(b,async C=>{if(C.shouldStream)try{const D=await hi(d.value,C);_.value?(m.value=!0,i("camera-on",D)):Pt()}catch(D){i("error",D)}else{const D=c.value,A=D.getContext("2d"),F=d.value;D.width=F.videoWidth,D.height=F.videoHeight,A==null||A.drawImage(F,0,0,F.videoWidth,F.videoHeight),Pt(),m.value=!1,i("camera-off")}},{deep:!0});const v=or(()=>b.value.shouldStream&&m.value);ar(v,C=>{if(C){P(c.value),P(p.value);const D=()=>o.track===void 0?500:40;ka(d.value,{detectHandler:A=>i("detect",A),locateHandler:S,minDelay:D()})}});const S=C=>{const D=p.value,A=d.value;if(D!==void 0)if(C.length>0&&o.track!==void 0&&A!==void 0){const F=A.offsetWidth,B=A.offsetHeight,I=A.videoWidth,L=A.videoHeight,ee=Math.max(F/I,B/L),de=I*ee,H=L*ee,V=de/I,ke=H/L,Ue=(F-de)/2,Fe=(B-H)/2,Ce=({x:ie,y:X})=>({x:Math.floor(ie*V),y:Math.floor(X*ke)}),$e=({x:ie,y:X})=>({x:Math.floor(ie+Ue),y:Math.floor(X+Fe)}),Ie=C.map(ie=>{const{boundingBox:X,cornerPoints:it}=ie,{x:st,y:ut}=$e(Ce({x:X.x,y:X.y})),{x:ct,y:te}=Ce({x:X.width,y:X.height});return{...ie,cornerPoints:it.map(pe=>$e(Ce(pe))),boundingBox:DOMRectReadOnly.fromRect({x:st,y:ut,width:ct,height:te})}});D.width=A.offsetWidth,D.height=A.offsetHeight;const We=D.getContext("2d");o.track(Ie,We)}else P(D)},P=C=>{const D=C.getContext("2d");D==null||D.clearRect(0,0,C.width,C.height)};return(C,D)=>(at(),$t("div",mi,[Xe("video",{ref_key:"videoRef",ref:d,class:ra([{"qrcode-stream-camera--hidden":!v.value},"qrcode-stream-camera"]),autoplay:"",muted:"",playsinline:""},null,2),na(Xe("canvas",{ref_key:"pauseFrameRef",ref:c,class:"qrcode-stream-camera"},null,512),[[oa,!v.value]]),Xe("canvas",{ref_key:"trackingLayerRef",ref:p,class:"qrcode-stream-overlay"},null,512),Xe("div",vi,[dr(C.$slots,"default",{},void 0,!0)])]))}});const gi=aa(yi,[["__scopeId","data-v-81111d37"]]),Ci=ot({__name:"QrcodeCapture",emits:["detect"],setup(n,{emit:i}){const o=async p=>{const d=await await p;i("detect",d)},c=p=>{if(!(p.target instanceof HTMLInputElement)||!p.target.files)return;const d=[...Array.from(p.target.files)];for(const m of d.map(wr))o(m)};return(p,d)=>(at(),$t("input",{onChange:c,type:"file",name:"image",accept:"image/*",capture:"environment",multiple:""},null,32))}}),_i=["onDrop"],wi=ot({__name:"QrcodeDropZone",emits:["detect","dragover","error"],setup(n,{emit:i}){const o=async d=>{try{const m=await d;i("detect",m)}catch(m){i("error",m)}},c=d=>{i("dragover",d)},p=({dataTransfer:d})=>{if(!d)return;c(!1);const m=[...Array.from(d.files)],_=d.getData("text/uri-list");m.forEach(b=>{o(wr(b))}),_!==""&&o(Fa(_))};return(d,m)=>(at(),$t("div",{onDrop:Ze(p,["prevent","stop"]),onDragenter:m[0]||(m[0]=Ze(_=>c(!0),["prevent","stop"])),onDragleave:m[1]||(m[1]=Ze(_=>c(!1),["prevent","stop"])),onDragover:m[2]||(m[2]=Ze(()=>{},["prevent","stop"]))},[dr(d.$slots,"default")],40,_i))}});function bi(n){n.component("qrcode-stream",gi),n.component("qrcode-capture",Ci),n.component("qrcode-drop-zone",wi)}const Si={install:bi};let nt=null;typeof window<"u"?nt=window.Vue:typeof global<"u"&&(nt=global.Vue);nt&&nt.use(Si);export{gi as Q,$i as _,wi as a,Ci as b};
